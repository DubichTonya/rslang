(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BGKp:function(t,e,n){"use strict";n.r(e),n.d(e,"MiniGamesModule",function(){return bi});var i=n("ofXK"),o=n("l7P3"),r=n("9jGm"),s=n("PCNd"),a=n("tyNb"),c=n("Uvcq"),l=n("fXoL"),d=n("NFeN"),u=n("bTqV"),g=n("Wp6s");function m(t,e){if(1&t&&(l.Sb(0,"mat-card",6),l.Sb(1,"div",7),l.Sb(2,"div",8),l.Ec(3),l.Rb(),l.Ob(4,"div",9),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Cb(3),l.Gc(" ",t.name," "),l.Cb(1),l.jc("innerHTML",t.rules,l.vc)}}const b=function(t){return{overlayAnimation:t}},h=function(t){return{contentAnimation:t}};function p(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",1),l.Sb(1,"div",2),l.Zb("click",function(){return l.uc(t),l.dc().onHiddenPopup()}),l.Rb(),l.Sb(2,"div",3),l.Sb(3,"button",4),l.Zb("click",function(){return l.uc(t),l.dc().onHiddenPopup()}),l.Sb(4,"mat-icon"),l.Ec(5,"close"),l.Rb(),l.Rb(),l.Cc(6,m,5,2,"mat-card",5),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("ngClass",l.mc(4,b,t.isShow)),l.Cb(1),l.jc("ngClass",l.mc(6,h,t.isShow)),l.Cb(4),l.jc("ngForOf",t.gameCards)("ngForTrackBy",t.trackByCardName)}}let f=(()=>{class t{constructor(){this.hidden=new l.n,this.gameCards=c.b}trackByCardName(t,e){return e.name}onHiddenPopup(){this.hidden.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-game-rules"]],inputs:{isShow:"isShow",text:"text"},outputs:{hidden:"hidden"},decls:1,vars:1,consts:[["class","popup",4,"ngIf"],[1,"popup"],[1,"popup__overlay",3,"ngClass","click"],[1,"popup__content",3,"ngClass"],["mat-mini-fab","",1,"popup__closeBtn",3,"click"],["class","popup__text",4,"ngFor","ngForOf","ngForTrackBy"],[1,"popup__text"],[1,"popup__text-block"],[1,"popup__text-block-name"],[3,"innerHTML"]],template:function(t,e){1&t&&l.Cc(0,p,7,8,"div",0),2&t&&l.jc("ngIf",e.isShow)},directives:[i.m,i.k,u.b,d.a,i.l,g.a],styles:[".popup[_ngcontent-%COMP%], .popup__overlay[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%;height:100vh;z-index:1000}.popup__overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.7);transition:1s ease}.popup__content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80vw;height:70vh;padding:3.75rem 3.75rem .5rem 1.875rem;background-color:initial;color:var(--color-dark);z-index:1001;overflow-y:auto;transition:1s ease;border-radius:5px}.popup__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:fixed;right:10px;top:10px;background-color:var(--color-primary)}.popup__text-block[_ngcontent-%COMP%]{padding:1rem}.popup__text[_ngcontent-%COMP%], .popup__text-block[_ngcontent-%COMP%]{margin-bottom:1.5rem}.popup__text-block-name[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;color:var(--color-primary)}.overlayAnimation[_ngcontent-%COMP%]{animation:overlayAnimation .5s ease-in-out forwards}.contentAnimation[_ngcontent-%COMP%]{animation:contentAnimation 1s ease-in-out forwards}@keyframes overlayAnimation{0%{left:-100%}to{left:0}}@keyframes contentAnimation{0%{top:-100%}to{top:50%}}[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-repeat:no-repeat;width:5px;height:0}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--color-light)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background-color:var(--color-primary)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color-primary-light)}[_ngcontent-%COMP%]::-webkit-resizer{background-repeat:no-repeat;width:4px;height:0}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}"]}),t})();const _=function(t){return["/mini-games",t]};function C(t,e){if(1&t&&(l.Sb(0,"mat-card",11),l.Ob(1,"div",12),l.Ob(2,"div",13),l.Ob(3,"div",14),l.Sb(4,"div",15),l.Sb(5,"h2",16),l.Ec(6),l.Rb(),l.Sb(7,"mat-card-content",17),l.Ec(8),l.Rb(),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.jc("routerLink",l.mc(4,_,t.route))("ngClass",t.route),l.Cb(6),l.Fc(t.name),l.Cb(2),l.Gc(" ",t.description," ")}}let v=(()=>{class t{constructor(){this.games=c.b,this.showPopup=!1}trackByCardName(t,e){return e.name}onShow(){this.showPopup=!0}onHidden(){this.showPopup=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-mini-games-page"]],decls:13,vars:3,consts:[[1,"container__parallax"],[1,"parallax"],["src","../../../../assets/images/mini-games/mini-games-page/background-confetti-lg-arcade.svg"],["src","../../../../assets/images/mini-games/mini-games-page/background-confetti-md-arcade.svg"],["src","../../../../assets/images/mini-games/mini-games-page/background-confetti-sm-arcade.svg"],["src","../../../../assets/images/mini-games/mini-games-page/background-confetti-xl-arcade.svg"],["src","../../../../assets/images/mini-games/mini-games-page/background-confetti-xs-arcade.svg"],[1,"material-icons-md",2,"white-space","pre-line",3,"click"],[3,"isShow","hidden"],[1,"mini-games__container"],["class","game-card",3,"routerLink","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"game-card",3,"routerLink","ngClass"],[1,"bg-overlay"],[1,"x-border"],[1,"y-border"],[1,"game-card__content"],[1,"game-card__title"],[1,"game-card__description"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Ob(2,"img",2),l.Ob(3,"img",3),l.Ob(4,"img",4),l.Ob(5,"img",5),l.Ob(6,"img",6),l.Rb(),l.Rb(),l.Sb(7,"mat-icon",7),l.Zb("click",function(){return e.onShow()}),l.Ec(8," help_outline "),l.Rb(),l.Sb(9,"app-game-rules",8),l.Zb("hidden",function(){return e.onHidden()}),l.Rb(),l.Sb(10,"div",9),l.Cc(11,C,9,6,"mat-card",10),l.Ob(12,"router-outlet"),l.Rb()),2&t&&(l.Cb(9),l.jc("isShow",e.showPopup),l.Cb(2),l.jc("ngForOf",e.games)("ngForTrackBy",e.trackByCardName))},directives:[d.a,f,i.l,a.h,g.a,a.d,i.k,g.d],styles:['[_nghost-%COMP%]{position:relative;padding-top:3rem;min-height:70vh}.mini-games__container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.mini-games__container[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.primary-color[_ngcontent-%COMP%]{color:var(--color-light)}.material-icons-md[_ngcontent-%COMP%]{justify-self:right;align-self:flex-start;margin-top:-.5rem;font-size:3rem;color:var(--color-text-togglable);position:absolute;right:2rem;top:1rem;z-index:2;cursor:pointer}@media (max-width:500px){.game-cards-row[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]{min-width:70vw}}.game-card[_ngcontent-%COMP%]{flex-basis:300px;background:#eee;width:100%;display:flex;align-items:center;justify-content:center;position:relative;transition:all .25s ease-in;min-height:220px;background-size:cover;margin:0 1% 2%;cursor:pointer}.game-card.sprint[_ngcontent-%COMP%]{background-image:url(mini-games-sprint-background.cb04722a6d34eef66bce.jpg)}.game-card.audiochallenge[_ngcontent-%COMP%]{background-image:url(audiochallenge-bg.d5a850fbe35020f034dd.jpg)}.game-card.savannah[_ngcontent-%COMP%]{background-image:url(savannah-bg.3a42482114d99802f87a.jpg)}.game-card.custom-mini-game[_ngcontent-%COMP%]{background-image:url(custom-mini-game-background.b27f6f1679e569080f9a.png)}.game-card.spelling[_ngcontent-%COMP%]{background-image:url(spelling-bg.cbfc1d913d4126fa4834.jpg)}.game-card__content[_ngcontent-%COMP%]{color:#fff;text-align:center;display:flex;flex-wrap:nowrap;align-items:center;flex-direction:row}.game-card__title[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;transition:all .25s ease-out .2s;opacity:1;transform:translateZ(1px)}.game-card__description[_ngcontent-%COMP%]{padding:10%;position:absolute;opacity:0;left:5%;right:5%;transform:translate3d(0,30px,1px);transition:all .2s linear 0ms;margin:0}.game-card[_ngcontent-%COMP%]:active, .game-card[_ngcontent-%COMP%]:hover{box-shadow:var(--box-shadow)}.game-card[_ngcontent-%COMP%]:active   .x-border[_ngcontent-%COMP%]:after, .game-card[_ngcontent-%COMP%]:active   .x-border[_ngcontent-%COMP%]:before, .game-card[_ngcontent-%COMP%]:hover   .x-border[_ngcontent-%COMP%]:after, .game-card[_ngcontent-%COMP%]:hover   .x-border[_ngcontent-%COMP%]:before{width:90%;left:5%}.game-card[_ngcontent-%COMP%]:active   .y-border[_ngcontent-%COMP%]:after, .game-card[_ngcontent-%COMP%]:active   .y-border[_ngcontent-%COMP%]:before, .game-card[_ngcontent-%COMP%]:hover   .y-border[_ngcontent-%COMP%]:after, .game-card[_ngcontent-%COMP%]:hover   .y-border[_ngcontent-%COMP%]:before{height:90%;top:5%}.game-card[_ngcontent-%COMP%]:active   .game-card__title[_ngcontent-%COMP%], .game-card[_ngcontent-%COMP%]:hover   .game-card__title[_ngcontent-%COMP%]{opacity:0;transform:translate3d(0,20px,1px);transition:all .2s linear 0ms}.game-card[_ngcontent-%COMP%]:active   .game-card__description[_ngcontent-%COMP%], .game-card[_ngcontent-%COMP%]:hover   .game-card__description[_ngcontent-%COMP%]{opacity:1;transform:translateZ(1px);transition:all .2s linear .2s}.game-card[_ngcontent-%COMP%]:active   .bg-overlay[_ngcontent-%COMP%], .game-card[_ngcontent-%COMP%]:hover   .bg-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.45)}.bg-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.25);border-radius:inherit;transition:all .2s linear}.bg-overlay[_ngcontent-%COMP%], .x-border[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.x-border[_ngcontent-%COMP%]:after, .x-border[_ngcontent-%COMP%]:before{position:absolute;content:"";width:0;height:1px;transition:all .25s ease-out;background:#fff}.x-border[_ngcontent-%COMP%]:before{top:10%}.x-border[_ngcontent-%COMP%]:after{bottom:10%}.y-border[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.y-border[_ngcontent-%COMP%]:after, .y-border[_ngcontent-%COMP%]:before{content:"";position:absolute;height:0%;width:1px;transition:all .25s ease-out;background:#fff}.y-border[_ngcontent-%COMP%]:before{left:10%}.y-border[_ngcontent-%COMP%]:after{right:10%}@keyframes confetti{0%{top:100%}to{top:-100%}}.container__parallax[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh}.parallax[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:100%;height:auto;transform:translateX(-50%) translateZ(0);animation:confetti linear infinite}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{animation-delay:-160s;animation-duration:40s}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){animation-delay:-120s;animation-duration:80s}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3){animation-delay:-80s;animation-duration:120s}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(4){animation-delay:-40s;animation-duration:160s}.parallax[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(5){animation-delay:0s;animation-duration:200s}']}),t})();var S=n("FKr1"),w=n("eotD"),O=n("G8mm"),y=n("mMYO"),x=n("GlWI"),P=n("0IaG");const k=function(){return["mini-games"]};let M=(()=>{class t{constructor(){this.color="warn"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-close-game-dialog"]],inputs:{color:"color"},decls:9,vars:3,consts:[[1,"dialog"],["mat-dialog-title",""],["mat-dialog-content","",1,"dialog__content"],["mat-flat-button","","mat-dialog-close","",1,"dialog__exit",3,"color","routerLink"],["mat-button","","mat-dialog-close","",1,"dialog__close"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h1",1),l.Ec(2,"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u043d\u0435 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430!"),l.Rb(),l.Sb(3,"p",2),l.Ec(4,"\u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443, \u0432\u0430\u0448\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u043d\u0443\u043b\u044f\u0442\u0441\u044f."),l.Rb(),l.Sb(5,"button",3),l.Ec(6," \u0412\u044b\u0439\u0442\u0438 "),l.Rb(),l.Sb(7,"button",4),l.Ec(8,"\u041e\u0442\u043c\u0435\u043d\u0430"),l.Rb(),l.Rb()),2&t&&(l.Cb(5),l.jc("color",e.color)("routerLink",l.lc(2,k)))},directives:[P.e,P.c,u.b,P.b,a.d],styles:[".dialog[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem}.dialog__content[_ngcontent-%COMP%]{overflow:visible;line-height:1.4rem}.dialog__exit[_ngcontent-%COMP%]{margin:.5rem auto;font-size:1.2rem}.dialog__close[_ngcontent-%COMP%]{margin:0 auto;font-size:1.2rem}"]}),t})();var R=n("OpGh"),j=n("xXIK"),E=n("f4AX"),I=n("HDdC");let W=(()=>{class t{constructor(){this.settings={isMuted:!1},this.gameSettings=new I.a(t=>{this.getMutedState(),t.next(this.settings)})}getMutedState(){return localStorage.getItem("isMuted")?(this.settings.isMuted=JSON.parse(localStorage.getItem("isMuted")||""),this.settings.isMuted):(localStorage.setItem("isMuted",JSON.stringify(this.settings.isMuted)),this.settings.isMuted)}changeMutedState(){try{return this.settings.isMuted=!JSON.parse(localStorage.getItem("isMuted")||""),localStorage.setItem("isMuted",JSON.stringify(this.settings.isMuted)),this.settings.isMuted}catch(t){return this.settings.isMuted}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T=function(){return{"background-color":"transparent"}};let G=(()=>{class t{constructor(t){this.document=t,this.isFullScreen=!1}ngOnInit(){this.checkScreenMode(),this.elem=document.documentElement}ngOnDestroy(){this.isFullScreen&&this.document.exitFullscreen()}fullscreenmodes(t){this.checkScreenMode()}checkScreenMode(){this.isFullScreen=Boolean(document.fullscreenElement)}changeScreen(){this.isFullScreen?this.document.exitFullscreen():this.elem.requestFullscreen()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(i.d))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-full-screen-button"]],hostBindings:function(t,e){1&t&&l.Zb("fullscreenchange",function(t){return e.fullscreenmodes(t)},!1,l.sc)("webkitfullscreenchange",function(t){return e.fullscreenmodes(t)},!1,l.sc)("mozfullscreenchange",function(t){return e.fullscreenmodes(t)},!1,l.sc)("MSFullscreenChange",function(t){return e.fullscreenmodes(t)},!1,l.sc)},decls:3,vars:3,consts:[["mat-fab","",1,"btn-screen",3,"ngStyle","click"],["inline","",1,"btn-screen_icon"]],template:function(t,e){1&t&&(l.Sb(0,"button",0),l.Zb("click",function(){return e.changeScreen()}),l.Sb(1,"mat-icon",1),l.Ec(2),l.Rb(),l.Rb()),2&t&&(l.jc("ngStyle",l.lc(2,T)),l.Cb(2),l.Fc(e.isFullScreen?"fullscreen_exit":"fullscreen"))},directives:[u.b,i.n,d.a],styles:[".btn-screen[_ngcontent-%COMP%]{background-color:var(--color-button)}.btn-screen_icon[_ngcontent-%COMP%]{font-size:2.5rem!important}"],changeDetection:0}),t})();var A=n("l5mm"),L=n("GJmQ"),D=n("Xa2L");let F=(()=>{class t{constructor(){this.spinnerColor="primary",this.count=4,this.isPaused=!1,this.countIsOver=new l.n,this.increment=1,this.spinnerValue=0,this.spinnerMode="determinate",this.counterSubscription=null}ngOnInit(){this.increment=100/this.count,this.counterSubscription=Object(A.a)(1e3).pipe(Object(L.a)(()=>this.count>0)).subscribe(()=>{this.isPaused?this.spinnerMode="indeterminate":(this.spinnerMode="determinate",this.spinnerValue+=this.increment,this.count-=1)},t=>{console.log(`Error just happened: ${t.message}`)},()=>{this.countIsOver.emit()})}ngOnDestroy(){this.counterSubscription&&this.counterSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-counter"]],inputs:{spinnerColor:"spinnerColor",count:"count",isPaused:"isPaused"},outputs:{countIsOver:"countIsOver"},decls:4,vars:5,consts:[[1,"counter"],[1,"counter__count"],[1,"counter__progress-spinner",3,"color","mode","value","diameter"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Ec(2),l.Rb(),l.Ob(3,"mat-progress-spinner",2),l.Rb()),2&t&&(l.Cb(2),l.Fc(e.count),l.Cb(1),l.jc("color",e.spinnerColor)("mode",e.spinnerMode)("value",e.spinnerValue)("diameter",76))},directives:[D.a],styles:[".counter[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none}.counter__count[_ngcontent-%COMP%]{position:relative;font-size:3rem;top:3rem;width:4.75rem;text-align:center}"]}),t})();var N=n("5RNC");const z=function(t){return{color:t}};function $(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card-content",5),l.Sb(1,"p",6),l.Ec(2,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u044b:"),l.Rb(),l.Sb(3,"span",6),l.Ec(4,"\u041b\u0435\u0433\u043a\u043e"),l.Rb(),l.Sb(5,"mat-slider",7,8),l.Zb("input",function(){l.uc(t);const e=l.qc(6);return l.dc().onDifficultyChange(e.value)}),l.Rb(),l.Sb(7,"span",6),l.Ec(8,"\u0421\u043b\u043e\u0436\u043d\u043e"),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("ngStyle",l.mc(5,z,t.textColor)),l.Cb(2),l.jc("ngStyle",l.mc(7,z,t.textColor)),l.Cb(2),l.jc("disabled",t.group)("value",t.difficulty),l.Cb(2),l.jc("ngStyle",l.mc(9,z,t.textColor))}}function B(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"div"),l.Sb(2,"p",6),l.Ec(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0443\u043d\u0434\u043e\u0432:"),l.Rb(),l.Sb(4,"span",6),l.Ec(5,"10"),l.Rb(),l.Sb(6,"mat-slider",9,10),l.Zb("input",function(){l.uc(t);const e=l.qc(7);return l.dc().onSetNumOfRounds(e.value)}),l.Rb(),l.Sb(8,"span",6),l.Ec(9,"20"),l.Rb(),l.Rb(),l.Sb(10,"div",11),l.Sb(11,"p",6),l.Ec(12,"\u0412\u0440\u0435\u043c\u044f \u043d\u0430 \u0440\u0430\u0443\u043d\u0434 (\u0441\u0435\u043a.):"),l.Rb(),l.Sb(13,"span",6),l.Ec(14,"10"),l.Rb(),l.Sb(15,"mat-slider",9,12),l.Zb("input",function(){l.uc(t);const e=l.qc(16);return l.dc().onSetRoundLength(e.value)}),l.Rb(),l.Sb(17,"span",6),l.Ec(18,"20"),l.Rb(),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(2),l.jc("ngStyle",l.mc(6,z,t.textColor)),l.Cb(2),l.jc("ngStyle",l.mc(8,z,t.textColor)),l.Cb(4),l.jc("ngStyle",l.mc(10,z,t.textColor)),l.Cb(3),l.jc("ngStyle",l.mc(12,z,t.textColor)),l.Cb(2),l.jc("ngStyle",l.mc(14,z,t.textColor)),l.Cb(4),l.jc("ngStyle",l.mc(16,z,t.textColor))}}const Z=function(){return{"box-shadow":"none"}},q=function(t){return{color:t,"background-color":"transparent"}};let H=(()=>{class t{constructor(t){this.route=t,this.hasDifficultySlider=!0,this.gameName="",this.textColor="black",this.difficultySelected=new l.n,this.numOfRounds=new l.n,this.roundLength=new l.n,this.difficultyLevel=new l.n,this.startGame=new l.n,this.difficulty=x.b,this.GAMES=c.c}ngOnInit(){this.querySubscription=this.route.queryParams.subscribe(t=>{this.group=t.group,this.group&&(this.difficulty=parseInt(this.group))})}onDifficultyChange(t){null!==t&&(this.difficulty=t,this.difficultyLevel.emit(t))}onStartGame(){this.startGame.emit()}onStart(){this.onStartGame(),this.difficultySelected.emit(this.hasDifficultySlider?this.difficulty:void 0)}onSetNumOfRounds(t){t&&this.numOfRounds.emit(t)}onSetRoundLength(t){t&&this.roundLength.emit(t)}ngOnDestroy(){var t;null===(t=this.querySubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(a.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-start-game"]],inputs:{hasDifficultySlider:"hasDifficultySlider",gameName:"gameName",textColor:"textColor"},outputs:{difficultySelected:"difficultySelected",numOfRounds:"numOfRounds",roundLength:"roundLength",difficultyLevel:"difficultyLevel",startGame:"startGame"},decls:8,vars:11,consts:[[1,"card",3,"ngStyle"],[1,"card__title",3,"ngStyle"],["class","card__content",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","warn",1,"card__start-button",3,"ngStyle","click"],[1,"card__content"],[1,"card__text",3,"ngStyle"],["min","0","max","5","step","1","thumbLabel","","color","warn",3,"disabled","value","input"],["difficultySlider",""],["thumbLabel","","min","10","max","20","step","1","value","15","color","warn",1,"margins-left-right",3,"input"],["numOfRounds",""],[1,"card__margin-top"],["roundLength",""]],template:function(t,e){1&t&&(l.Sb(0,"mat-card",0),l.Sb(1,"mat-card-title",1),l.Ec(2),l.Rb(),l.Cc(3,$,9,11,"mat-card-content",2),l.Cc(4,B,19,18,"ng-container",3),l.Sb(5,"mat-card-actions"),l.Sb(6,"button",4),l.Zb("click",function(){return e.onStart()}),l.Ec(7," \u041d\u0430\u0447\u0430\u0442\u044c "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.jc("ngStyle",l.lc(6,Z)),l.Cb(1),l.jc("ngStyle",l.mc(7,z,e.textColor)),l.Cb(1),l.Fc(e.gameName),l.Cb(1),l.jc("ngIf",e.hasDifficultySlider),l.Cb(1),l.jc("ngIf",e.gameName===e.GAMES.CUSTOM_GAME),l.Cb(2),l.jc("ngStyle",l.mc(9,q,e.textColor)))},directives:[g.a,i.n,g.h,i.m,g.b,u.b,g.d,N.a],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:transparent;box-shadow:none}.card__title[_ngcontent-%COMP%]{font-size:40px;line-height:1;margin:2rem 0 3.75rem;text-transform:uppercase;-webkit-font-smoothing:antialiased;letter-spacing:.8125rem}.card__text[_ngcontent-%COMP%], .card__title[_ngcontent-%COMP%]{font-weight:300;color:var(--color-dark);opacity:.8}.card__text[_ngcontent-%COMP%]{margin:0 auto 1rem;font-size:1rem;line-height:1.5rem}.card__content[_ngcontent-%COMP%]{font-size:1.2rem}.card__start-button[_ngcontent-%COMP%]{background-color:initial;display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.5rem;line-height:1;padding:1.1875rem .9375rem 1.3125rem;min-width:10.125rem;border:1px solid hsla(0,0%,100%,.2);border-radius:.1875rem;text-align:center;text-decoration:none;color:var(--color-dark);text-transform:uppercase;font-weight:300;cursor:pointer;transition:all .15s ease;outline:none}.card__margin-top[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width:500px){.card[_ngcontent-%COMP%]{width:90vw}.card__title[_ngcontent-%COMP%]{font-size:2.2rem;letter-spacing:.4rem}}@media (max-width:400px){.card__title[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.3rem}}"],changeDetection:0}),t})();function U(t,e){1&t&&(l.Sb(0,"mat-icon",12),l.Ec(1,"star"),l.Rb())}function V(t,e){1&t&&(l.Sb(0,"mat-icon",12),l.Ec(1,"star"),l.Rb())}function Y(t,e){1&t&&(l.Sb(0,"mat-icon",12),l.Ec(1,"star"),l.Rb())}const Q=function(t){return{"background-image":t}};let J=(()=>{class t{constructor(){this.word="",this.translation="",this.streak=0,this.multiplier=1,this.pronounceWord=new l.n,this.handleTurn=new l.n}keyEvent(t){t.key===w.b.LEFT?this.onWrongBtnClick():t.key===w.b.RIGHT&&this.onCorrectBtnClick()}onVolumeBtnClick(){this.pronounceWord.emit()}onWrongBtnClick(){this.handleTurn.emit(O.a.WRONG)}onCorrectBtnClick(){this.handleTurn.emit(O.a.CORRECT)}onStreakChange(t){const e={firstStar:!1,secondStar:!1,thirdStar:!1,imageSrc:x.d.startImageSrc};return t%4>=1&&t<w.d.THIRD&&(e.firstStar=!0),t%4>=2&&t<w.d.THIRD&&(e.secondStar=!0),t%4>=3&&t<w.d.THIRD&&(e.thirdStar=!0),t>=w.d.THIRD?e.imageSrc=x.d.finishImageSrc:t>=w.d.SECOND?e.imageSrc=x.d.sprintImageSrc:t>=w.d.FIRST&&(e.imageSrc=x.d.runImageSrc),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-sprint-game-card"]],hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{word:"word",translation:"translation",streak:"streak",multiplier:"multiplier"},outputs:{pronounceWord:"pronounceWord",handleTurn:"handleTurn"},decls:25,vars:15,consts:[[1,"game-card"],[1,"game-card__content"],[1,"game-card__image",3,"ngStyle"],[1,"game-card__streak-progress"],["class","game-card__star",4,"ngIf"],["mat-fab","","color","warn",1,"game-card__points"],[1,"game-card__text"],["matRipple","",1,"game-card__volume",3,"matRippleUnbounded","matRippleCentered","click"],[1,"game-card__actions"],["mat-raised-button","","color","warn",1,"game-card__button",3,"click"],["mat-raised-button","","color","primary",1,"game-card__button",3,"click"],["matRipple","",1,"game-card__arrow",3,"matRippleUnbounded","matRippleCentered","click"],[1,"game-card__star"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"mat-card-content",1),l.Ob(2,"div",2),l.Sb(3,"div",3),l.Cc(4,U,2,0,"mat-icon",4),l.Cc(5,V,2,0,"mat-icon",4),l.Cc(6,Y,2,0,"mat-icon",4),l.Rb(),l.Sb(7,"button",5),l.Ec(8),l.Rb(),l.Sb(9,"p",6),l.Ec(10),l.Sb(11,"mat-icon",7),l.Zb("click",function(){return e.onVolumeBtnClick()}),l.Ec(12," volume_up "),l.Rb(),l.Rb(),l.Sb(13,"p",6),l.Ec(14),l.Rb(),l.Rb(),l.Sb(15,"mat-card-actions",8),l.Sb(16,"button",9),l.Zb("click",function(){return e.onWrongBtnClick()}),l.Ec(17,"\u041d\u0435\u0432\u0435\u0440\u043d\u043e"),l.Rb(),l.Sb(18,"button",10),l.Zb("click",function(){return e.onCorrectBtnClick()}),l.Ec(19,"\u0412\u0435\u0440\u043d\u043e"),l.Rb(),l.Rb(),l.Sb(20,"mat-card-actions",8),l.Sb(21,"mat-icon",11),l.Zb("click",function(){return e.onWrongBtnClick()}),l.Ec(22," west "),l.Rb(),l.Sb(23,"mat-icon",11),l.Zb("click",function(){return e.onCorrectBtnClick()}),l.Ec(24," east "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Cb(2),l.jc("ngStyle",l.mc(13,Q,e.onStreakChange(e.streak).imageSrc)),l.Cb(2),l.jc("ngIf",e.onStreakChange(e.streak).firstStar),l.Cb(1),l.jc("ngIf",e.onStreakChange(e.streak).secondStar),l.Cb(1),l.jc("ngIf",e.onStreakChange(e.streak).thirdStar),l.Cb(2),l.Gc("+",10*e.multiplier,""),l.Cb(2),l.Gc(" ",e.word," "),l.Cb(1),l.jc("matRippleUnbounded",!0)("matRippleCentered",!0),l.Cb(3),l.Fc(e.translation),l.Cb(7),l.jc("matRippleUnbounded",!0)("matRippleCentered",!0),l.Cb(2),l.jc("matRippleUnbounded",!0)("matRippleCentered",!0))},directives:[g.d,i.n,i.m,u.b,d.a,S.l,g.b],styles:[".game-card[_ngcontent-%COMP%]{background-color:var(--color-light);position:relative;width:27rem}.game-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.game-card__image[_ngcontent-%COMP%]{background-size:contain;width:9rem;height:9rem}.game-card__text[_ngcontent-%COMP%]{margin-top:.8rem;font-size:2rem;line-height:2rem;text-align:center}.game-card__streak-progress[_ngcontent-%COMP%]{position:absolute;top:2.2rem;left:8.5rem;display:flex;flex-direction:column;gap:.75rem}.game-card__star[_ngcontent-%COMP%]{color:var(--color-warn);font-size:2.3rem}.game-card__star[_ngcontent-%COMP%]:hover{cursor:default}.game-card__points[_ngcontent-%COMP%]{cursor:default;position:absolute;top:1rem;right:1rem;font-size:1.5rem;box-shadow:none}.game-card__volume[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;font-size:3rem}.game-card__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.game-card__button[_ngcontent-%COMP%]{width:8rem;height:3rem;font-size:1.5rem;margin:1.3rem 0 0}.game-card__arrow[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;font-size:2rem}mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width:600px){.game-card[_ngcontent-%COMP%]{width:18rem}.game-card__streak-progress[_ngcontent-%COMP%]{left:4rem}}"],changeDetection:0}),t})();var K=n("lR+J"),X=n("eqRq"),tt=n("QAlT"),et=n("ITGz"),nt=n("MutI");function it(t,e){if(1&t&&(l.Sb(0,"mat-card-title",9),l.Ec(1),l.Rb()),2&t){const t=l.dc();l.Cb(1),l.Gc(" \u0422\u0432\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ",t.gamePoints," \u043e\u0447\u043a\u043e\u0432 ")}}function ot(t,e){1&t&&(l.Sb(0,"mat-card-title"),l.Ec(1,"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430!"),l.Rb())}const rt=function(){return{"box-shadow":"none","background-color":"transparent"}};function st(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",16),l.Zb("click",function(){l.uc(t);const e=l.dc(2).index;return l.dc().markAsDeleted(e)}),l.Sb(1,"i",12),l.Ec(2,"delete"),l.Rb(),l.Rb()}if(2&t){const t=l.dc(2).$implicit;l.jc("disabled","deleted"===(null==t.userWord?null:t.userWord.difficulty))("ngStyle",l.lc(2,rt))}}function at(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-list-item"),l.Sb(1,"div"),l.Sb(2,"button",11),l.Zb("click",function(){l.uc(t);const e=l.dc().$implicit;return l.dc().playSound(e.audio)}),l.Sb(3,"i",12),l.Ec(4,"volume_up"),l.Rb(),l.Rb(),l.Sb(5,"span",13),l.Ec(6),l.Rb(),l.Sb(7,"span",14),l.Ec(8),l.Rb(),l.Rb(),l.Cc(9,st,3,3,"button",15),l.Rb()}if(2&t){const t=l.dc().$implicit;l.Cb(2),l.jc("ngStyle",l.lc(4,rt)),l.Cb(4),l.Fc(t.word),l.Cb(2),l.Gc(" \u2014 ",t.translation,""),l.Cb(1),l.jc("ngIf","deleted"!==(null==t.userWord?null:t.userWord.difficulty))}}function ct(t,e){if(1&t&&(l.Qb(0),l.Cc(1,at,10,5,"mat-list-item",10),l.Pb()),2&t){const t=e.$implicit,n=l.dc();l.Cb(1),l.jc("ngIf",t.result===n.answer.WRONG)}}function lt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",16),l.Zb("click",function(){l.uc(t);const e=l.dc(2).index;return l.dc().markAsDeleted(e)}),l.Sb(1,"i",12),l.Ec(2,"delete"),l.Rb(),l.Rb()}if(2&t){const t=l.dc(2).$implicit;l.jc("disabled","deleted"===(null==t.userWord?null:t.userWord.difficulty))("ngStyle",l.lc(2,rt))}}function dt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-list-item"),l.Sb(1,"div"),l.Sb(2,"button",11),l.Zb("click",function(){l.uc(t);const e=l.dc().$implicit;return l.dc().playSound(e.audio)}),l.Sb(3,"i",12),l.Ec(4,"volume_up"),l.Rb(),l.Rb(),l.Sb(5,"span",13),l.Ec(6),l.Rb(),l.Sb(7,"span",14),l.Ec(8),l.Rb(),l.Rb(),l.Cc(9,lt,3,3,"button",15),l.Rb()}if(2&t){const t=l.dc().$implicit;l.Cb(2),l.jc("ngStyle",l.lc(4,rt)),l.Cb(4),l.Fc(t.word),l.Cb(2),l.Gc(" \u2014 ",t.translation,""),l.Cb(1),l.jc("ngIf","deleted"!==(null==t.userWord?null:t.userWord.difficulty))}}function ut(t,e){if(1&t&&(l.Qb(0),l.Cc(1,dt,10,5,"mat-list-item",10),l.Pb()),2&t){const t=e.$implicit,n=l.dc();l.Cb(1),l.jc("ngIf",t.result===n.answer.CORRECT)}}let gt=(()=>{class t{constructor(t,e,n){this.shortTermStatisticsService=t,this.longTermStatisticsService=e,this.store=n,this.audio=new Audio,this.answer=O.a,this.rightWords=[],this.wrongWords=[],this.closeGameEvent=new l.n,this.trackByIdentity=(t,e)=>e}playSound(t){this.audio.src=`${c.a}/${t}`,this.audio.play()}closeGame(){this.closeGameEvent.emit()}ngOnInit(){this.authSubscribition=this.store.select(X.c).subscribe(t=>this.isAuthorized=t),this.trainedWords&&this.trainedWords.length>0&&(this.rightWords=this.trainedWords.filter(t=>t.result===O.a.CORRECT),this.wrongWords=this.trainedWords.filter(t=>t.result===O.a.WRONG))}markAsDeleted(t){this.trainedWords&&(this.trainedWords=this.trainedWords.map((e,n)=>t===n?Object.assign(Object.assign({},e),{userWord:Object.assign(Object.assign({},e.userWord),{difficulty:"deleted"})}):e))}ngOnDestroy(){this.trainedWords&&this.trainedWords.length>0&&(this.shortTermStatisticsService.setStatistics(this.trainedWords,this.game),this.isAuthorized&&(this.store.dispatch(Object(K.k)({payload:this.trainedWords})),this.longTermStatisticsService.setStatistics(this.trainedWords,this.game,this.wordsGroup))),this.authSubscribition.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(tt.a),l.Nb(et.a),l.Nb(o.h))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-end-game"]],inputs:{trainedWords:"trainedWords",gamePoints:"gamePoints",game:"game",wordsGroup:"wordsGroup"},outputs:{closeGameEvent:"closeGameEvent"},decls:18,vars:9,consts:[[1,"game-card"],["class","game-card__points",4,"ngIf","ngIfElse"],["trainEndedBlock",""],[1,"game-card__words-list"],[1,"game-card__wrong"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"game-card__correct"],["mat-stroked-button","","color","warn",1,"game-card__exit",3,"routerLink"],["mat-stroked-button","",1,"game-card__reset",3,"click"],[1,"game-card__points"],[4,"ngIf"],["mat-mini-fab","","aria-label","Pronounce word",1,"actions__btn",3,"ngStyle","click"],[1,"material-icons"],[1,"game-card__word"],[1,"game-card__translation"],["mat-mini-fab","","class","actions__btn delete__btn","aria-label","Delete word",3,"disabled","ngStyle","click",4,"ngIf"],["mat-mini-fab","","aria-label","Delete word",1,"actions__btn","delete__btn",3,"disabled","ngStyle","click"]],template:function(t,e){if(1&t&&(l.Sb(0,"mat-card",0),l.Cc(1,it,2,1,"mat-card-title",1),l.Cc(2,ot,2,0,"ng-template",null,2,l.Dc),l.Sb(4,"mat-card-content",3),l.Sb(5,"p",4),l.Ec(6),l.Rb(),l.Sb(7,"mat-list"),l.Cc(8,ct,2,1,"ng-container",5),l.Rb(),l.Ob(9,"hr"),l.Sb(10,"p",6),l.Ec(11),l.Rb(),l.Sb(12,"mat-list"),l.Cc(13,ut,2,1,"ng-container",5),l.Rb(),l.Rb(),l.Sb(14,"button",7),l.Ec(15,"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"),l.Rb(),l.Sb(16,"button",8),l.Zb("click",function(){return e.closeGame()}),l.Ec(17,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"),l.Rb(),l.Rb()),2&t){const t=l.qc(3);l.Cb(1),l.jc("ngIf",e.gamePoints)("ngIfElse",t),l.Cb(5),l.Gc("\u041e\u0448\u0438\u0431\u043e\u043a: ",e.wrongWords.length,""),l.Cb(2),l.jc("ngForOf",e.trainedWords)("ngForTrackBy",e.trackByIdentity),l.Cb(3),l.Gc("\u0417\u043d\u0430\u044e: ",e.rightWords.length,""),l.Cb(2),l.jc("ngForOf",e.trainedWords)("ngForTrackBy",e.trackByIdentity),l.Cb(1),l.jc("routerLink","../")}},directives:[g.a,i.m,g.d,nt.a,i.l,u.b,a.d,g.h,nt.b,i.n],styles:[".game-card[_ngcontent-%COMP%]{width:60vw;background-color:var(--color-light);color:var(--color-dark);vertical-align:middle}.game-card__points[_ngcontent-%COMP%]{text-align:center}.game-card__words-list[_ngcontent-%COMP%]{height:60vh;padding:1rem;overflow-y:scroll;color:var(--color-dark)}.game-card__translation[_ngcontent-%COMP%], .game-card__word[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--color-dark)}.game-card__exit[_ngcontent-%COMP%], .game-card__reset[_ngcontent-%COMP%]{width:100%;font-size:1.2rem}.game-card__exit[_ngcontent-%COMP%]{margin-bottom:.5rem}.game-card__wrong[_ngcontent-%COMP%]{color:var(--color-warn);font-size:1.2rem;margin-bottom:0}.game-card__correct[_ngcontent-%COMP%]{color:var(--color-accent);font-size:1.2rem}.actions__btn[_ngcontent-%COMP%]{background-color:initial;box-shadow:none;margin-right:.5rem;margin-bottom:-.5rem;color:var(--color-button)}.actions__btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--color-dark-background)}.delete__btn[_ngcontent-%COMP%]{margin-right:0}@media (max-width:850px){.game-card[_ngcontent-%COMP%]{width:85vw}.game-card__words-list[_ngcontent-%COMP%]{height:50vh}}"]}),t})();const mt=["answerRipple"];function bt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",8),l.Sb(1,"app-counter",9),l.Zb("countIsOver",function(){return l.uc(t),l.dc().gameOver()}),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("count",59)("isPaused",t.game.isPaused)("spinnerColor","warn")}}const ht=function(){return{"background-color":"transparent"}};function pt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",10),l.Zb("click",function(){return l.uc(t),l.dc().onMuteClick()}),l.Sb(1,"i",4),l.Ec(2,"music_note"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,ht))}function ft(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",10),l.Zb("click",function(){return l.uc(t),l.dc().onMuteClick()}),l.Sb(1,"i",4),l.Ec(2,"music_off"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,ht))}function _t(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"app-start-game",11),l.Zb("difficultySelected",function(e){return l.uc(t),l.dc().getWords(e)}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("gameName",t.GAMES.SPRINT)("hasDifficultySlider",t.hasDifficultySlider)}}function Ct(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-counter",9),l.Zb("countIsOver",function(){return l.uc(t),l.dc(2).getReadyToPlay()}),l.Rb()}if(2&t){const t=l.dc(2);l.jc("count",4)("isPaused",t.game.isPaused)("spinnerColor","warn")}}function vt(t,e){if(1&t&&(l.Qb(0),l.Sb(1,"div",12),l.Cc(2,Ct,1,3,"app-counter",13),l.Rb(),l.Sb(3,"p",14),l.Ec(4),l.Rb(),l.Pb()),2&t){const t=l.dc();l.Cb(2),l.jc("ngIf",t.isStarterCounterShown),l.Cb(2),l.Fc(t.loadingWordsMessage||"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c")}}function St(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"div",15),l.Sb(2,"p",16),l.Ec(3),l.Rb(),l.Sb(4,"p",16),l.Ec(5),l.Rb(),l.Rb(),l.Sb(6,"app-sprint-game-card",17,18),l.Zb("pronounceWord",function(){l.uc(t);const e=l.dc();return e.pronounceWord(e.game.words[e.game.wordIndex].audio)})("handleTurn",function(e){return l.uc(t),l.dc().handleTurn(e)}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(3),l.Gc("\u0421\u0442\u0440\u0438\u043a: ",t.game.streak,""),l.Cb(2),l.Gc("\u0411\u0430\u043b\u043b\u044b: ",t.game.points,""),l.Cb(1),l.jc("word",t.game.word)("translation",t.game.wordTranslation)("streak",t.game.streak)("multiplier",t.game.multiplier)("matRippleDisabled",!0)}}function wt(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"app-end-game",19),l.Zb("closeGameEvent",function(){return l.uc(t),l.dc().resetGame()}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("trainedWords",t.game.trainedWords)("gamePoints",t.game.points)("wordsGroup",t.difficulty||t.group||t.DEFAULT_DIFFICULTY_LEVEL)("game",t.GAMES.SPRINT)}}let Ot=(()=>{class t{constructor(t,e,n,i,o,r){this.gameService=t,this.closeDialog=e,this.route=n,this.userService=i,this.router=o,this.settingsService=r,this.game={gameState:w.a.SETUP,words:[],trainedWords:[],trainedWordsByIndexes:[],maxTrainedWords:0,word:"",wordIndex:0,wordTranslation:"",isTranslationCorrect:!0,streak:0,points:0,basePoints:10,multiplier:1,isPaused:!1},this.loadingWordsMessage="",this.isStarterCounterShown=!0,this.GAMES=c.c,this.GAME_STATE=w.a,this.DEFAULT_DIFFICULTY_LEVEL=R.a,this.hasDifficultySlider=!0}ngOnInit(){this.settingsSubscription=this.settingsService.gameSettings.subscribe(t=>{this.settings=t});const{group:t,page:e,filter:n}=this.route.snapshot.queryParams;this.filter=n,void 0!==t&&void 0!==e&&(this.hasDifficultySlider=!1,this.group=t,this.page=e)}ngOnDestroy(){this.closeDialogSubsription&&this.closeDialogSubsription.unsubscribe(),this.wordsBatch1Subscription&&this.wordsBatch1Subscription.unsubscribe(),this.wordsBatch2Subscription&&this.wordsBatch2Subscription.unsubscribe(),this.wordsBatch3Subscription&&this.wordsBatch3Subscription.unsubscribe(),this.settingsSubscription&&this.settingsSubscription.unsubscribe()}getWords(t){let e="",n="",i="",o="";if(void 0!==t&&(this.difficulty=t.toString(),e=t.toString()),void 0!==this.group&&(e=this.group),void 0!==this.page)n=this.page,i=+this.page-1>=0?(+this.page-1).toString():"",o=+this.page-2>=0?(+this.page-2).toString():"";else{const[t,e,r]=Object(y.c)();n=t.toString(),i=e.toString(),o=r.toString()}const r=this.userService.getUserId();this.wordsBatch1Subscription=this.gameService.getWords({group:e,page:n,filter:this.filter,userId:r||void 0}).subscribe(t=>{t[0].paginatedResults&&(t=t[0].paginatedResults),this.game.maxTrainedWords+=t.length,this.game.words.push(...t)}),i&&(this.wordsBatch2Subscription=this.gameService.getWords({group:e,page:i,filter:this.filter,userId:r||void 0}).subscribe(t=>{t[0].paginatedResults&&(t=t[0].paginatedResults),this.game.maxTrainedWords+=t.length,this.game.words.push(...t)})),o&&(this.wordsBatch3Subscription=this.gameService.getWords({group:e,page:o,filter:this.filter,userId:r||void 0}).subscribe(t=>{t[0].paginatedResults&&(t=t[0].paginatedResults),this.game.maxTrainedWords+=t.length,this.game.words.push(...t)})),this.game.gameState=w.a.READY}getReadyToPlay(){this.isStarterCounterShown=!1;const t=()=>{this.game.words.length?(this.game.gameState=w.a.PLAY,this.nextTurn()):(this.loadingWordsMessage="\u0421\u043b\u043e\u0432\u0430 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f...",setTimeout(()=>{this.loadingWordsMessage=""},1e3),setTimeout(t,2e3))};t()}handleTurn(t){this.game.trainedWordsByIndexes.push(this.game.wordIndex);const e={id:this.game.words[this.game.wordIndex]._id||this.game.words[this.game.wordIndex].id,word:this.game.word,translation:this.game.wordTranslation,timeStamp:Date.now(),audio:this.game.words[this.game.wordIndex].audio};if(t===O.a.CORRECT&&this.game.isTranslationCorrect||t===O.a.WRONG&&!this.game.isTranslationCorrect){if(this.game.streak+=1,this.game.multiplier=Object(y.a)(this.game.streak),this.game.points+=this.game.basePoints*this.game.multiplier,this.game.trainedWords.push(Object.assign(Object.assign({},e),{result:O.a.CORRECT})),this.launchRipple(O.a.CORRECT),!this.settings.isMuted){const t=this.game.streak%4==0&&this.game.streak<=w.d.THIRD?w.c.LEVELUP:w.c.CORRECT;Object(y.e)(t)}}else this.game.streak=0,this.game.multiplier=1,this.game.trainedWords.push(Object.assign(Object.assign({},e),{result:O.a.WRONG,translation:this.game.words[this.game.wordIndex].wordTranslate})),this.launchRipple(O.a.WRONG),this.settings.isMuted||Object(y.e)(w.c.WRONG);this.nextTurn()}nextTurn(){if(this.game.trainedWords.length!==this.game.maxTrainedWords){do{this.game.wordIndex=Object(y.b)(this.game.words.length)}while(this.game.trainedWordsByIndexes.includes(this.game.wordIndex));if(this.game.word=this.game.words[this.game.wordIndex].word,Math.random()>=.5)this.game.isTranslationCorrect=!0,this.game.wordTranslation=this.game.words[this.game.wordIndex].wordTranslate;else{this.game.isTranslationCorrect=!1;let t=Object(y.b)(this.game.words.length);for(;t===this.game.wordIndex;)t=Object(y.b)(this.game.words.length);this.game.wordTranslation=this.game.words[t].wordTranslate}}else this.gameOver()}pronounceWord(t){new Audio(`${c.a}/${t}`).play()}gameOver(){this.game.gameState=w.a.OVER}launchRipple(t){this.answerRipple&&this.answerRipple.launch({color:t===O.a.CORRECT?x.a.CORRECT:x.a.WRONG,persistent:!0,centered:!0}).fadeOut()}onMuteClick(){this.settingsService.changeMutedState()}openCloseDialog(){this.game.gameState===w.a.PLAY?(this.game.isPaused=!0,this.closeDialog.open(M),this.closeDialogSubsription=this.closeDialog.afterAllClosed.subscribe(()=>{this.game.isPaused=!1})):this.router.navigate(["mini-games"])}resetGame(){this.isStarterCounterShown=!0,this.game=Object.assign(Object.assign({},this.game),{gameState:w.a.SETUP,words:[],trainedWords:[],trainedWordsByIndexes:[],maxTrainedWords:0,streak:0,points:0,basePoints:10,multiplier:1})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(j.a),l.Nb(P.a),l.Nb(a.a),l.Nb(E.a),l.Nb(a.c),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-sprint-mini-game"]],viewQuery:function(t,e){if(1&t&&l.Jc(mt,1,S.l),2&t){let t;l.pc(t=l.ac())&&(e.answerRipple=t.first)}},decls:13,vars:9,consts:[[1,"background-container"],["class","game__counter",4,"ngIf"],[1,"game-container"],["mat-fab","",1,"game__close",3,"ngStyle","click"],[1,"material-icons","material-icons_black"],["mat-fab","","class","game__mute",3,"ngStyle","click",4,"ngIf"],[4,"ngIf"],[1,"game__fullscreen"],[1,"game__counter"],[3,"count","isPaused","spinnerColor","countIsOver"],["mat-fab","",1,"game__mute",3,"ngStyle","click"],[3,"gameName","hasDifficultySlider","difficultySelected"],[1,"game__counter-start"],[3,"count","isPaused","spinnerColor","countIsOver",4,"ngIf"],[1,"game__start-text"],[1,"game__score"],[1,"game__text"],["matRipple","",3,"word","translation","streak","multiplier","matRippleDisabled","pronounceWord","handleTurn"],["answerRipple",""],[3,"trainedWords","gamePoints","wordsGroup","game","closeGameEvent"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Cc(1,bt,2,3,"div",1),l.Sb(2,"div",2),l.Sb(3,"button",3),l.Zb("click",function(){return e.openCloseDialog()}),l.Sb(4,"span",4),l.Ec(5,"close"),l.Rb(),l.Rb(),l.Cc(6,pt,3,2,"button",5),l.Cc(7,ft,3,2,"button",5),l.Cc(8,_t,2,2,"ng-container",6),l.Cc(9,vt,5,2,"ng-container",6),l.Cc(10,St,8,7,"ng-container",6),l.Cc(11,wt,2,4,"ng-container",6),l.Rb(),l.Ob(12,"app-full-screen-button",7),l.Rb()),2&t&&(l.Cb(1),l.jc("ngIf",e.game.gameState===e.GAME_STATE.PLAY),l.Cb(2),l.jc("ngStyle",l.lc(8,ht)),l.Cb(3),l.jc("ngIf",!e.settings.isMuted),l.Cb(1),l.jc("ngIf",e.settings.isMuted),l.Cb(1),l.jc("ngIf",e.game.gameState===e.GAME_STATE.SETUP),l.Cb(1),l.jc("ngIf",e.game.gameState===e.GAME_STATE.READY),l.Cb(1),l.jc("ngIf",e.game.gameState===e.GAME_STATE.PLAY),l.Cb(1),l.jc("ngIf",e.game.gameState===e.GAME_STATE.OVER))},directives:[i.m,u.b,i.n,G,F,H,J,S.l,gt],styles:['.background-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background:#95aac0 url(mini-games-sprint-background.cb04722a6d34eef66bce.jpg);background-repeat:no-repeat;background-size:cover;background-color:#c7d1db;display:flex;justify-content:center;align-items:center;z-index:4}.background-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;margin:auto;background:rgba(149,170,192,.35)}.game-container[_ngcontent-%COMP%]{z-index:5;-webkit-user-select:none;user-select:none}.game__counter[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:1rem}.game__counter-start[_ngcontent-%COMP%]{display:flex;justify-content:center}.game__start-text[_ngcontent-%COMP%]{margin-top:1rem}.game__start-text[_ngcontent-%COMP%], .game__text[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.game__text[_ngcontent-%COMP%]{margin-top:.8rem}.game__score[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.game__mute[_ngcontent-%COMP%]{background-color:var(--color-button);position:absolute;top:1rem;right:5rem}.game__fullscreen[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}.game__fullscreen[_ngcontent-%COMP%]     button{color:var(--color-dark-background)}.game__close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background-color:var(--color-button)}.material-icons_black[_ngcontent-%COMP%]{color:var(--color-dark-background)}mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}']}),t})();const yt=Object(o.n)("[AudiochallengeGameComponent] Audiochallenge Started"),xt=Object(o.n)("[AudiochallengeGameComponent] Load Words",Object(o.s)()),Pt=Object(o.n)("[AudiochallengeGameComponent] Words Loaded Success",Object(o.s)()),kt=Object(o.n)("[AudiochallengeGameComponent] Translation Loaded Success",Object(o.s)()),Mt=(Object(o.n)("[AudiochallengeGameComponent] Shuffle Translations"),Object(o.n)("[AudiochallengeGameComponent] TranslationsShuffled",Object(o.s)())),Rt=Object(o.n)("[AudiochallengeGameComponent] Check Answer",Object(o.s)()),jt=Object(o.n)("[AudiochallengeGameComponent] Right Answer"),Et=Object(o.n)("[AudiochallengeGameComponent] Wrong Answer"),It=Object(o.n)("[AudiochallengeGameComponent] Play Word Sound"),Wt=Object(o.n)("[AudiochallengeGameComponent] Show Next Word"),Tt=Object(o.n)("[AudiochallengeGameComponent] Translation Choosed"),Gt=Object(o.n)("[AudiochallengeGameComponent] Check Game Over"),At=Object(o.n)("[AudiochallengeGameComponent] Sound On"),Lt=Object(o.n)("[AudiochallengeGameComponent] Sound Of"),Dt=Object(o.n)("[AudiochallengeGameComponent] Audiochallenge Ended"),Ft=Object(o.n)("[AudiochallengeGameComponent] Game Over"),Nt=Object(o.n)("[AudiochallengeGameComponent] Close Game"),zt=Object(o.o)("audiochallenge"),$t=Object(o.q)(zt,t=>t.list),Bt=Object(o.q)(zt,t=>t.currentWord),Zt=Object(o.q)(zt,t=>t.isGameStarted),qt=Object(o.q)(zt,t=>t.isTranslationChoosed),Ht=Object(o.q)(zt,t=>t.isGameEnded),Ut=(Object(o.q)(zt,t=>Math.max(t.maxRightAnswers,t.previousMaxAnswers)),Object(o.q)(zt,t=>t.trainedWords)),Vt=Object(o.q)(zt,t=>t.isLoading),Yt=Object(o.q)(zt,t=>({isSoundOn:t.isSoundOn,audio:t.audioSrc})),Qt=Object(o.q)(zt,t=>t.isSoundOn),Jt=Object(o.q)(zt,t=>t.currentWord.translationsArray),Kt=Object(o.q)(zt,t=>({isStarted:t.isGameStarted,currentWord:t.currentWord}));var Xt=n("3E0/"),te=n("IzEk"),ee=n("1P0b");const ne=function(){return{"box-shadow":"none"}};let ie=(()=>{class t{constructor(){this.difficultySelected=new l.n,this.difficulty=0}onDifficultyChange(t){null!==t&&this.difficultySelected.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-audiochallenge-level-choise"]],outputs:{difficultySelected:"difficultySelected"},decls:10,vars:2,consts:[[1,"card",3,"ngStyle"],[1,"card__content"],[1,"card__text"],["min","0","max","5","step","1","value","1","color","warn","thumbLabel","",3,"input"],["difficultySlider",""]],template:function(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",0),l.Sb(1,"mat-card-content",1),l.Sb(2,"p",2),l.Ec(3,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u044b:"),l.Rb(),l.Sb(4,"span"),l.Ec(5,"\u041b\u0435\u0433\u043a\u043e"),l.Rb(),l.Sb(6,"mat-slider",3,4),l.Zb("input",function(){l.uc(t);const n=l.qc(7);return e.onDifficultyChange(n.value)}),l.Rb(),l.Sb(8,"span"),l.Ec(9,"\u0421\u043b\u043e\u0436\u043d\u043e"),l.Rb(),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,ne))},directives:[g.a,i.n,g.d,N.a],styles:[".card[_ngcontent-%COMP%]{background:transparent;box-shadow:none;color:hsla(0,0%,100%,.7)}"]}),t})();const oe=function(){return{"background-color":"transparent"}};function re(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",2),l.Zb("click",function(){return l.uc(t),l.dc().soundOFF()}),l.Sb(1,"i",3),l.Ec(2,"music_note"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,oe))}function se(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",4),l.Zb("click",function(){return l.uc(t),l.dc().soundON()}),l.Sb(1,"i",3),l.Ec(2,"music_off"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,oe))}let ae=(()=>{class t{constructor(t,e){this.store=t,this.settingsService=e}ngOnInit(){this.isSoundOn$=this.store.select(Qt)}soundON(){this.store.dispatch(At()),this.settingsService.changeMutedState()}soundOFF(){this.store.dispatch(Lt()),this.settingsService.changeMutedState()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-game-sounds-button"]],decls:4,vars:4,consts:[[3,"ngIf","ngIfElse"],["soundOffBtn",""],["mat-fab","","aria-label","Turn sound off",1,"audio__btn",3,"ngStyle","click"],[1,"material-icons"],["mat-fab","","aria-label","Turn sound on",1,"audio__btn",3,"ngStyle","click"]],template:function(t,e){if(1&t&&(l.Cc(0,re,3,2,"ng-template",0),l.ec(1,"async"),l.Cc(2,se,3,2,"ng-template",null,1,l.Dc)),2&t){const t=l.qc(3);l.jc("ngIf",l.fc(1,2,e.isSoundOn$))("ngIfElse",t)}},directives:[i.m,u.b,i.n],pipes:[i.b],styles:[".audio__btn[_ngcontent-%COMP%]{background-color:var(--color-button);position:absolute;top:1rem;left:1rem;z-index:5}"]}),t})();const ce=function(){return{"background-color":"transparent"}};function le(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div"),l.Ob(1,"img",3),l.Sb(2,"mat-card-title"),l.Sb(3,"button",4),l.Zb("click",function(){return l.uc(t),l.dc().onPlay()}),l.Sb(4,"i",5),l.Ec(5,"volume_up"),l.Rb(),l.Rb(),l.Ec(6),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("src",t.constPath+"/"+t.word.image,l.wc)("alt",t.word.word),l.Cb(2),l.jc("ngStyle",l.lc(4,ce)),l.Cb(3),l.Gc(" ",t.word.word," ")}}function de(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",6),l.Zb("click",function(){return l.uc(t),l.dc().onPlay()}),l.Sb(1,"i",7),l.Ec(2,"volume_up"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,ce))}const ue=function(){return{"box-shadow":"none"}};let ge=(()=>{class t{constructor(){this.playEvent=new l.n,this.constPath=c.a}ngOnChanges(){this.path=`${c.a}/${this.word.image}?raw=true`}onPlay(){this.playEvent.emit()}keyEvent(t){" "===t.key&&this.onPlay()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-audiochallenge-word-card"]],hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{word:"word",guessed:"guessed"},outputs:{playEvent:"playEvent"},features:[l.Ab],decls:4,vars:4,consts:[[1,"card",3,"ngStyle"],[4,"ngIf","ngIfElse"],["audioBtnBlock",""],[3,"src","alt"],["mat-mini-fab","","aria-label","Example icon button with a home icon",1,"audio__btn",3,"ngStyle","click"],[1,"material-icons"],["mat-fab","",1,"audio__btn","audio__btn_big",3,"ngStyle","click"],[1,"material-icons","md-48"]],template:function(t,e){if(1&t&&(l.Sb(0,"mat-card",0),l.Cc(1,le,7,5,"div",1),l.Rb(),l.Cc(2,de,3,2,"ng-template",null,2,l.Dc)),2&t){const t=l.qc(3);l.jc("ngStyle",l.lc(3,ue)),l.Cb(1),l.jc("ngIf",e.guessed)("ngIfElse",t)}},directives:[g.a,i.n,i.m,g.h,u.b],styles:[".audio__btn[_ngcontent-%COMP%]{box-shadow:none;background-color:hsla(0,0%,100%,.07);width:3.5rem;height:3.5rem;transition:all .3s ease-in}.audio__btn[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.audio__btn[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:scale(1.1)}.audio__btn_big[_ngcontent-%COMP%]{width:11rem;height:11rem}.material-icons[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.8);font-size:2.5rem;transition:all .3s ease-in}.material-icons.md-48[_ngcontent-%COMP%]{font-size:6rem}.card[_ngcontent-%COMP%]{height:365px;background-color:initial;box-shadow:none;text-align:center;color:hsla(0,0%,100%,.9)}.mat-card-title[_ngcontent-%COMP%]{line-height:4rem;font-size:2.8rem}.mat-card-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}@media screen and (max-width:650px){.audio__btn_big[_ngcontent-%COMP%]{width:8rem;height:8rem}.card[_ngcontent-%COMP%]{height:280px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}}"],changeDetection:0}),t})();function me(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",3),l.Zb("click",function(){l.uc(t);const n=e.$implicit;return l.dc(2).chooseTranslation(n)}),l.Sb(1,"div",4),l.Ec(2),l.Rb(),l.Ob(3,"div",5),l.Sb(4,"span",6),l.Ec(5),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=l.dc(2);l.Cb(2),l.Fc(n.optionsObjects.indexOf(t)+1),l.Cb(2),l.jc("ngClass",n.getStyles(t)),l.Cb(1),l.Fc(t.option)}}function be(t,e){if(1&t&&(l.Sb(0,"mat-action-list",1),l.Cc(1,me,6,3,"button",2),l.Rb()),2&t){const t=l.dc();l.Cb(1),l.jc("ngForOf",t.optionsObjects)("ngForTrackBy",t.trackByIdentity)}}let he=(()=>{class t{constructor(){this.translationEvent=new l.n,this.trackByIdentity=t=>t}ngOnChanges(t){t.options&&this.options&&(this.optionsObjects=this.options.map(t=>({option:t,isRight:t===this.rightAnswer,isSelected:!1})))}chooseTranslation(t){this.guessed||(this.translationEvent.emit(t.option),this.chooseElement(t))}keyEvent(t){+t.key>0&&+t.key<6&&this.options&&!this.guessed&&(this.translationEvent.emit(this.options[+t.key-1]),this.chooseElement(this.optionsObjects[+t.key-1]))}chooseElement(t){this.optionsObjects.forEach(e=>{t.option===e.option&&(e.isSelected=!0)})}getStyles(t){return this.guessed?t.isRight?"option__text_right":t.isSelected&&!t.isRight?"option__text_wrong":"option__text_not-choosen":"option__text"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-translation-options"]],hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{options:"options",guessed:"guessed",rightAnswer:"rightAnswer"},outputs:{translationEvent:"translationEvent"},features:[l.Ab],decls:1,vars:1,consts:[["class","translations",4,"ngIf"],[1,"translations"],["mat-list-item","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["mat-list-item","",3,"click"],[1,"option__number"],[1,"answer-indication"],[3,"ngClass"]],template:function(t,e){1&t&&l.Cc(0,be,2,2,"mat-action-list",0),2&t&&l.jc("ngIf",e.options)},directives:[i.m,nt.a,i.l,nt.b,i.k],styles:[".translations[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-bottom:2rem}.mat-list-item.mat-focus-indicator[_ngcontent-%COMP%]{display:contents;color:var(--color-light);font-size:1.3rem}.option__number[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;width:2rem;height:2rem;margin-right:5px;color:hsla(0,0%,100%,.85);border:1px solid hsla(0,0%,100%,.5);border-radius:3px}.option__text_wrong[_ngcontent-%COMP%]{text-decoration:line-through;transform:scale(.8);color:hsla(0,0%,100%,.5)}.option__text_right[_ngcontent-%COMP%]{color:var(--color-light);transform:scale(1.08)}.option__text_not-choosen[_ngcontent-%COMP%]{transform:scale(.8);color:hsla(0,0%,100%,.5)}@media screen and (max-width:650px){.translations[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.translations[_ngcontent-%COMP%]   .option__number[_ngcontent-%COMP%]{display:none}.translations__option[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);font-size:1.2rem}}"],changeDetection:0}),t})();function pe(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",2),l.Zb("click",function(){return l.uc(t),l.dc().guess()}),l.Ec(1,"\u041d\u0435 \u0437\u043d\u0430\u044e"),l.Rb()}}function fe(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",3,4),l.Zb("click",function(){return l.uc(t),l.dc().nextWord()}),l.Rb()}}let _e=(()=>{class t{constructor(){this.guessEvent=new l.n,this.nextWordEvent=new l.n}guess(){this.guessEvent.emit()}nextWord(){this.nextWordEvent.emit()}keyEvent(t){"Enter"===t.key&&(this.guessed?this.nextWordEvent.emit():this.guessEvent.emit())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-decision-buttons"]],hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{guessed:"guessed"},outputs:{guessEvent:"guessEvent",nextWordEvent:"nextWordEvent"},decls:3,vars:2,consts:[["dontKnowBtn",""],["class","audiochallenge__button audiochallenge__button_arrow-right",3,"click",4,"ngIf","ngIfElse"],[1,"audiochallenge__button",3,"click"],[1,"audiochallenge__button","audiochallenge__button_arrow-right",3,"click"],["nextBtn",""]],template:function(t,e){if(1&t&&(l.Cc(0,pe,2,0,"ng-template",null,0,l.Dc),l.Cc(2,fe,2,0,"button",1)),2&t){const t=l.qc(1);l.Cb(2),l.jc("ngIf",e.guessed)("ngIfElse",t)}},directives:[i.m],styles:[".audiochallenge__button[_ngcontent-%COMP%]{height:60px;background-color:hsla(0,0%,100%,.096);display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.2rem;line-height:1.2rem;padding:19px 15px;min-width:162px;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;text-align:center;text-decoration:none;color:hsla(0,0%,100%,.9);text-transform:uppercase;cursor:pointer;transition:all .15s ease;outline:none}.audiochallenge__button_arrow-right[_ngcontent-%COMP%]{background-image:url(arrow_right_alt-24px.af0430d15dbd3676f962.svg);background-repeat:no-repeat;background-position:50%;background-size:80%}"],changeDetection:0}),t})();function Ce(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",1),l.Sb(1,"app-audiochallenge-word-card",2),l.Zb("playEvent",function(){return l.uc(t),l.dc().playSound()}),l.ec(2,"async"),l.Rb(),l.Sb(3,"app-translation-options",3),l.Zb("translationEvent",function(e){return l.uc(t),l.dc().checkAnswer(e)}),l.ec(4,"async"),l.Rb(),l.Sb(5,"app-decision-buttons",4),l.Zb("guessEvent",function(){return l.uc(t),l.dc().skipWord()})("nextWordEvent",function(){return l.uc(t),l.dc().nextWord()}),l.ec(6,"async"),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=l.dc();l.Cb(1),l.jc("word",t)("guessed",l.fc(2,6,n.guessed$)),l.Cb(2),l.jc("guessed",l.fc(4,8,n.guessed$))("options",t.translationsArray)("rightAnswer",t.wordTranslate),l.Cb(2),l.jc("guessed",l.fc(6,10,n.guessed$))}}let ve=(()=>{class t{constructor(t,e){this.store=t,this.settingsService=e}ngOnInit(){this.settingsSubscription=this.settingsService.gameSettings.subscribe(t=>{this.settings=t,this.store.dispatch(this.settings.isMuted?Lt():At())}),this.store.dispatch(xt({payload:{group:this.difficulty||this.group,page:this.page,userId:this.userId||void 0,filter:this.filter}})),this.currentWord$=this.store.select(Bt),this.words$=this.store.select($t),this.guessed$=this.store.select(qt)}ngOnDestroy(){this.settingsSubscription&&this.settingsSubscription.unsubscribe()}playSound(){this.store.dispatch(It())}skipWord(){this.store.dispatch(Tt()),this.store.dispatch(Et())}nextWord(){this.store.dispatch(Gt())}checkAnswer(t){this.store.dispatch(Tt()),this.store.dispatch(Rt({payload:t}))}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-audiochallenge-game"]],inputs:{difficulty:"difficulty",page:"page",group:"group",userId:"userId",filter:"filter"},decls:3,vars:3,consts:[[3,"ngIf"],[1,"audiochallenge__container"],[3,"word","guessed","playEvent"],[3,"guessed","options","rightAnswer","translationEvent"],[3,"guessed","guessEvent","nextWordEvent"]],template:function(t,e){1&t&&(l.Ob(0,"app-game-sounds-button"),l.Cc(1,Ce,7,12,"ng-template",0),l.ec(2,"async")),2&t&&(l.Cb(1),l.jc("ngIf",l.fc(2,1,e.currentWord$)))},directives:[ae,i.m,ge,he,_e],pipes:[i.b],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(audiochallenge-bg.d5a850fbe35020f034dd.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;text-align:center}.audiochallenge__container[_ngcontent-%COMP%]{width:100%;padding:0 1.5rem}"]}),t})();function Se(t,e){1&t&&l.Ob(0,"app-progress")}function we(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-audiochallenge-level-choise",11),l.Zb("difficultySelected",function(e){return l.uc(t),l.dc(2).setDifficulty(e)}),l.Rb()}}function Oe(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",7),l.Sb(1,"h2",8),l.Ec(2,"\u0410\u0443\u0434\u0438\u043e\u0432\u044b\u0437\u043e\u0432"),l.Rb(),l.Cc(3,we,1,0,"app-audiochallenge-level-choise",9),l.Sb(4,"button",10),l.Zb("click",function(){return l.uc(t),l.dc().startGame()}),l.Ec(5,"\u041d\u0430\u0447\u0430\u0442\u044c"),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(3),l.jc("ngIf",!t.page)}}function ye(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-end-game",14),l.Zb("closeGameEvent",function(){return l.uc(t),l.dc(2).clearGame()}),l.ec(1,"async"),l.Rb()}if(2&t){const t=l.dc(2);l.jc("trainedWords",l.fc(1,3,t.trainedWords$))("wordsGroup",t.difficulty||t.group||t.DEFAULT_DIFFICULTY_LEVEL)("game",t.games.AUDIOCHALLENGE)}}function xe(t,e){if(1&t&&l.Ob(0,"app-audiochallenge-game",15),2&t){const t=l.dc(2);l.jc("difficulty",t.difficulty)("page",t.page)("group",t.group)("filter",t.filter)("userId",t.userId)}}function Pe(t,e){if(1&t&&(l.Sb(0,"div",null,3),l.Cc(2,ye,2,5,"app-end-game",12),l.ec(3,"async"),l.Cc(4,xe,1,5,"ng-template",null,13,l.Dc),l.Rb()),2&t){const t=l.qc(5),e=l.dc();l.Cb(2),l.jc("ngIf",l.fc(3,2,e.isGameEnded))("ngIfElse",t)}}function ke(t,e){}const Me=function(){return{"background-color":"transparent"}};let Re=(()=>{class t{constructor(t,e,n,i,o){this.store=t,this.dialog=e,this.route=n,this.userService=i,this.router=o,this.games=c.c,this.userId=this.userService.getUserId(),this.DEFAULT_DIFFICULTY_LEVEL=R.a}ngOnInit(){this.clearGame(),this.isGameStarted$=this.store.select(Zt),this.isGameEnded=this.store.select(Ht),this.trainedWords$=this.store.select(Ut),this.querySubscription=this.route.queryParams.subscribe(t=>{this.page=t.page,this.group=t.group,this.filter=t.filter}),this.isLoading$=this.store.select(Vt).pipe(Object(Xt.a)(0)).subscribe(t=>{this.loading=t})}startGame(){this.store.dispatch(yt())}setDifficulty(t){null!==t&&(this.difficulty=t.toString())}openDialog(){this.isGameStarted$.pipe(Object(te.a)(1)).subscribe(t=>{t?this.dialog.open(M):this.router.navigate(["mini-games"])})}clearGame(){this.store.dispatch(Nt())}ngOnDestroy(){this.querySubscription.unsubscribe(),this.isLoading$.unsubscribe(),this.store.dispatch(Dt())}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(P.a),l.Nb(a.a),l.Nb(E.a),l.Nb(a.c))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-audiochallenge-main"]],decls:11,vars:7,consts:[[4,"ngIf"],["introBlock",""],[4,"ngIf","ngIfElse"],["gameBlock",""],["mat-fab","",1,"close-btn",3,"ngStyle","click"],[1,"material-icons"],[1,"full-screen__btn"],[1,"intro"],[1,"title"],[3,"difficultySelected",4,"ngIf"],[1,"start_btn",3,"click"],[3,"difficultySelected"],[3,"trainedWords","wordsGroup","game","closeGameEvent",4,"ngIf","ngIfElse"],["endGameBlock",""],[3,"trainedWords","wordsGroup","game","closeGameEvent"],[3,"difficulty","page","group","filter","userId"]],template:function(t,e){if(1&t&&(l.Cc(0,Se,1,0,"app-progress",0),l.Cc(1,Oe,6,1,"ng-template",null,1,l.Dc),l.Cc(3,Pe,6,4,"div",2),l.ec(4,"async"),l.Cc(5,ke,0,0,"ng-template",null,3,l.Dc),l.Sb(7,"button",4),l.Zb("click",function(){return e.openDialog()}),l.Sb(8,"span",5),l.Ec(9,"close"),l.Rb(),l.Rb(),l.Ob(10,"app-full-screen-button",6)),2&t){const t=l.qc(2);l.jc("ngIf",e.loading),l.Cb(3),l.jc("ngIf",l.fc(4,4,e.isGameStarted$))("ngIfElse",t),l.Cb(4),l.jc("ngStyle",l.lc(6,Me))}},directives:[i.m,u.b,i.n,G,ee.a,ie,gt,ve],pipes:[i.b],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#7d5db0,#b06d9a 72%,#c584a4);background-size:cover;flex-wrap:wrap;z-index:4}.intro[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}.intro[_ngcontent-%COMP%]{text-align:center;color:var(--color-light);flex-direction:column}.mini-game[_ngcontent-%COMP%]{width:100%;min-height:80vh;transition:all 1s ease;background:#7d5db0;background:linear-gradient(180deg,#7d5db0,#b06d9a 72%,#c584a4);position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden}.title[_ngcontent-%COMP%]{text-align:center;font-size:40px;line-height:1;margin-bottom:60px;text-transform:uppercase;-webkit-font-smoothing:antialiased;letter-spacing:13px}.text[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);opacity:.8}.text[_ngcontent-%COMP%]{max-width:565px;margin:0 auto 20px;font-size:18px;line-height:24px}.start_btn[_ngcontent-%COMP%]{background-color:initial;display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:24px;line-height:1;padding:19px 15px 21px;min-width:162px;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;text-align:center;text-decoration:none;color:hsla(0,0%,100%,.7);text-transform:uppercase;font-weight:300;cursor:pointer;transition:all .15s ease;outline:none}.mat-fab[_ngcontent-%COMP%]{top:1rem;background-color:var(--color-button)}.full-screen__btn[_ngcontent-%COMP%], .mat-fab[_ngcontent-%COMP%]{position:absolute;right:1rem}.full-screen__btn[_ngcontent-%COMP%]{bottom:1rem}.close-btn[_ngcontent-%COMP%]{z-index:1000001}"]}),t})();function je(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})}var Ee=n("5+WD"),Ie=n("PqYM");let We=(()=>{class t{constructor(){this.soundPath="../../../../assets/sounds/mini-games/custom-mini-game/"}playAudio(t){let e=new Audio;switch(t){case"move":e.src=this.soundPath+"letter_move.mp3";break;case"round lost":e.src=this.soundPath+"round_lost.mp3";break;case"round won":e.src=this.soundPath+"round_won.mp3";break;case"game lost":e.src=this.soundPath+"game_lost.mp3";break;case"game won":e.src=this.soundPath+"game_won.mp3"}e.load(),e.play()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Te=(()=>{class t{constructor(){this.wordAsArray=[]}getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))}shuffleLettersInWord(t){let e=t.split("");for(;t===e.join("");)for(let t=e.length-1;t>0;t-=1){let n=this.getRandomInt(t+1),i=e[t];e[t]=e[n],e[n]=i}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ge(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-start-game",8),l.Zb("difficultyLevel",function(e){return l.uc(t),l.dc(2).onSetDifficultyLevel(e)})("numOfRounds",function(e){return l.uc(t),l.dc(2).onSetNumberOfRounds(e)})("roundLength",function(e){return l.uc(t),l.dc(2).onSetRoundLength(e)})("startGame",function(){return l.uc(t),l.dc(2).onStartGame()}),l.Rb()}if(2&t){const t=l.dc(2);l.jc("gameName",t.games.CUSTOM_GAME)}}function Ae(t,e){if(1&t&&(l.Sb(0,"div"),l.Cc(1,Ge,1,1,"app-start-game",7),l.Rb()),2&t){const t=l.dc();l.Cb(1),l.jc("ngIf",!t.isGameStarted)}}function Le(t,e){1&t&&l.Ob(0,"mat-spinner",9)}function De(t,e){if(1&t&&(l.Sb(0,"div",9),l.Ob(1,"img",17),l.Rb()),2&t){const t=l.dc(2);l.Cb(1),l.jc("src",t.imageSrc,l.wc)}}function Fe(t,e){if(1&t&&(l.Sb(0,"div",18),l.Sb(1,"div",19),l.Ec(2," \u0420\u0430\u0443\u043d\u0434 "),l.Sb(3,"span",20),l.Ec(4),l.Rb(),l.Ec(5),l.Rb(),l.Rb()),2&t){const t=l.dc(2);l.Cb(4),l.Fc(t.addLeadingZero(t.currentRound)),l.Cb(1),l.Gc(" \u0438\u0437 ",t.addLeadingZero(t.numberOfGameRounds)," ")}}function Ne(t,e){1&t&&(l.Sb(0,"mat-icon"),l.Ec(1," favorite_border "),l.Rb())}function ze(t,e){1&t&&(l.Sb(0,"mat-icon"),l.Ec(1," favorite "),l.Rb())}const $e=function(){return[]};function Be(t,e){if(1&t&&(l.Sb(0,"div",19),l.Cc(1,Ne,2,0,"mat-icon",24),l.Cc(2,ze,2,0,"mat-icon",24),l.Rb()),2&t){const t=l.dc(3);l.Cb(1),l.jc("ngForOf",l.lc(2,$e).constructor(t.currentWord.length-t.movesCountdownCounter)),l.Cb(1),l.jc("ngForOf",l.lc(3,$e).constructor(t.movesCountdownCounter))}}function Ze(t,e){if(1&t&&(l.Sb(0,"div",18),l.Sb(1,"div"),l.Ob(2,"mat-spinner",21),l.Sb(3,"div",22),l.Ec(4),l.Rb(),l.Rb(),l.Cc(5,Be,3,4,"div",23),l.Rb()),2&t){const t=l.dc(2);l.Cb(2),l.jc("value",t.spinnerValue)("mode",t.spinnerMode),l.Cb(2),l.Fc(t.addLeadingZero(t.countdownTimer)),l.Cb(1),l.jc("ngIf",t.currentWord)}}function qe(t,e){if(1&t&&(l.Sb(0,"div",9),l.Sb(1,"p",19),l.Ec(2),l.ec(3,"uppercase"),l.Rb(),l.Rb()),2&t){const t=l.dc(2);l.Cb(2),l.Fc(l.fc(3,1,t.currentWordTranslation))}}function He(t,e){if(1&t&&(l.Sb(0,"div",28),l.Ec(1),l.Rb()),2&t){const t=e.$implicit;l.Cb(1),l.Gc(" ",t," ")}}function Ue(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",25),l.Sb(1,"div",26),l.Zb("cdkDropListDropped",function(e){return l.uc(t),l.dc(2).dropLetter(e)}),l.Cc(2,He,2,1,"div",27),l.Rb(),l.Rb()}if(2&t){const t=l.dc(2);l.Cb(2),l.jc("ngForOf",t.scrambledWordAsArray)}}function Ve(t,e){if(1&t&&(l.Sb(0,"div",29),l.Sb(1,"div",30),l.Ec(2),l.Rb(),l.Sb(3,"div",31),l.Ec(4),l.Rb(),l.Rb()),2&t){const t=l.dc(2);l.Cb(2),l.Fc(t.currentWordTranslation),l.Cb(2),l.Fc(t.currentWord)}}function Ye(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",32),l.Sb(1,"button",33),l.Zb("click",function(){return l.uc(t),l.dc(2).startNextRound()}),l.Ec(2,"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0443\u043d\u0434"),l.Rb(),l.Rb()}}function Qe(t,e){if(1&t&&(l.Sb(0,"div",34),l.Ec(1),l.Rb()),2&t){const t=l.dc(2);l.Cb(1),l.Gc(" ",t.isGameLost()?"\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f!":"\u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!"," ")}}function Je(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-end-game",35),l.Zb("closeGameEvent",function(){return l.uc(t),l.dc(2).onStartGameDialog()}),l.Rb()}if(2&t){const t=l.dc(2);l.jc("trainedWords",t.trainedWords)("wordsGroup",t.difficultyLevel.toString()||t.group||t.DEFAULT_DIFFICULTY_LEVEL)("game",t.games.CUSTOM_GAME)}}function Ke(t,e){if(1&t&&(l.Sb(0,"div",10),l.Sb(1,"div"),l.Cc(2,De,2,1,"div",4),l.Cc(3,Fe,6,2,"div",11),l.Cc(4,Ze,6,4,"div",11),l.Cc(5,qe,4,3,"div",4),l.Cc(6,Ue,3,1,"div",12),l.Cc(7,Ve,5,2,"div",13),l.Cc(8,Ye,3,0,"div",14),l.Cc(9,Qe,2,1,"div",15),l.Cc(10,Je,1,3,"app-end-game",16),l.Rb(),l.Rb()),2&t){const t=l.dc();l.Cb(2),l.jc("ngIf",!t.isResultsShown),l.Cb(1),l.jc("ngIf",!t.isGameOver),l.Cb(1),l.jc("ngIf",!t.isRoundOver),l.Cb(1),l.jc("ngIf",!t.isRoundOver),l.Cb(1),l.jc("ngIf",!t.isRoundOver),l.Cb(1),l.jc("ngIf",t.isRoundOver&&!t.isResultsShown),l.Cb(1),l.jc("ngIf",t.isRoundOver&&!t.isGameOver),l.Cb(1),l.jc("ngIf",t.isGameOver&&!t.isResultsShown),l.Cb(1),l.jc("ngIf",t.isResultsShown)}}const Xe=function(){return{"background-color":"transparent"}};let tn=(()=>{class t{constructor(t,e,n,i,o,r,s,a){this.dialog=t,this.soundService=e,this.shuffleService=n,this.httpService=i,this.userService=o,this.route=r,this.router=s,this.settings=a,this.sourceArray=[],this.trainedWords=[],this.movesCountdownCounter=0,this.currentWordIndex=0,this.countdownTimer=0,this.tick=1e3,this.roundLength=15,this.currentRound=this.currentWordIndex+1,this.numberOfGameRounds=10,this.difficultyLevel=1,this.roundsLeft=0,this.isGameStarted=!1,this.isGamePaused=!1,this.isRoundOver=!1,this.isGameOver=!1,this.errorsCounter=0,this.srcCommPart="../../../assets/images/mini-games/custom-mini-game/hangman_stage",this.imageSrc=this.srcCommPart+this.errorsCounter+".png",this.gameOverSoundDelay=1e3,this.isResultsShown=!1,this.games=c.c,this.spinnerMode="determinate",this.spinnerValue=100,this.loading=!1,this.DEFAULT_DIFFICULTY_LEVEL=R.a}ngOnInit(){this.settingsSubscription$=this.settings.gameSettings.subscribe(t=>{this.globalSettings=t}),this.querySubscription=this.route.queryParams.subscribe(t=>{this.page=t.page,this.group=t.group,this.filter=t.filter})}onGetWords(){var t;return je(this,void 0,void 0,function*(){this.userId=this.userService.getUserId(),null===(t=this.getWords)||void 0===t||t.unsubscribe(),this.getWords=this.httpService.getWords({userId:this.userId||void 0,page:this.page,group:this.group||this.difficultyLevel.toString(),filter:this.filter}).subscribe(t=>{t.length&&t[0].paginatedResults&&(t=t[0].paginatedResults),this.sourceArray.push(...t)}),this.page&&this.sourceArray.length<20&&parseInt(this.page)>0&&(this.getWords=this.httpService.getWords({userId:this.userId||void 0,page:(parseInt(this.page)-1).toString(),group:this.group||this.difficultyLevel.toString(),filter:this.filter}).subscribe(t=>{t.length&&t[0].paginatedResults&&(t=t[0].paginatedResults),this.sourceArray.push(...t)}))})}nextRoundReset(){var t;null===(t=this.countDown)||void 0===t||t.unsubscribe(),this.isGamePaused=!1,this.isRoundOver=!1,this.countdownTimer=this.roundLength,this.spinnerValue=100,this.currentWord=this.sourceArray[this.currentWordIndex].word.toUpperCase(),this.currentWordTranslation=this.sourceArray[this.currentWordIndex].wordTranslate.toUpperCase(),this.scrambledWordAsArray=this.shuffleService.shuffleLettersInWord(this.currentWord),this.scrambledWord=this.scrambledWordAsArray.join(""),this.movesCountdownCounter=this.currentWord.length,this.countDown=Object(Ie.a)(0,this.tick).subscribe(()=>{var t;this.countdownTimer>0&&(this.isGamePaused||(this.countdownTimer-=1,this.spinnerValue=100/this.roundLength*this.countdownTimer)),0===this.countdownTimer&&(this.isRoundOver=!0,!this.globalSettings.isMuted&&this.soundService.playAudio("round lost"),this.errorsCounter+=1,this.toTrainedWords(O.a.WRONG),this.imageSrc=this.srcCommPart+this.errorsCounter+".png",(5===this.errorsCounter||this.isLastRound())&&(this.isGameOver=!0,setTimeout(()=>{this.finalize()},this.gameOverSoundDelay)),null===(t=this.countDown)||void 0===t||t.unsubscribe())})}toTrainedWords(t){this.trainedWords.push({id:this.sourceArray[this.currentWordIndex]._id||this.sourceArray[this.currentWordIndex].id,word:this.sourceArray[this.currentWordIndex].word,translation:this.sourceArray[this.currentWordIndex].wordTranslate,timeStamp:Date.now(),result:t,audio:this.sourceArray[this.currentWordIndex].audio})}isLastRound(){return this.currentWordIndex===this.numberOfGameRounds-1}startNextRound(){this.currentWordIndex+=1,this.currentRound<this.numberOfGameRounds&&(this.currentRound+=1),this.roundsLeft>0&&(this.roundsLeft-=1),this.currentWordIndex===this.numberOfGameRounds&&(this.isGameOver=!0,setTimeout(()=>{this.finalize()},this.gameOverSoundDelay)),this.isGameOver||this.nextRoundReset()}dropLetter(t){var e;this.scrambledWordAsArray&&(this.previousScrambledWord=this.scrambledWordAsArray.join(""),this.movesCountdownCounter>0&&Object(Ee.d)(this.scrambledWordAsArray,t.previousIndex,t.currentIndex),this.previousScrambledWord!==this.scrambledWordAsArray.join("")&&(this.movesCountdownCounter>0&&(this.movesCountdownCounter-=1),!this.globalSettings.isMuted&&this.soundService.playAudio("move"),this.previousScrambledWord=this.scrambledWordAsArray.join("")),0===this.movesCountdownCounter&&(this.isGamePaused=!0,!this.globalSettings.isMuted&&this.soundService.playAudio("round lost"),this.errorsCounter+=1,this.imageSrc=this.srcCommPart+this.errorsCounter+".png",this.isRoundOver=!0,this.toTrainedWords(O.a.WRONG),(5===this.errorsCounter||this.isLastRound())&&(this.isGameOver=!0,setTimeout(()=>{this.finalize()},this.gameOverSoundDelay))),this.currentWord===(null===(e=this.scrambledWordAsArray)||void 0===e?void 0:e.join(""))&&(this.isGamePaused=!0,!this.globalSettings.isMuted&&this.soundService.playAudio("round won"),this.isRoundOver=!0,this.toTrainedWords(O.a.CORRECT),this.isLastRound()&&(this.isGameOver=!0,setTimeout(()=>{this.finalize()},this.gameOverSoundDelay))))}isGameLost(){return 5===this.errorsCounter}finalize(){this.isGameLost()?!this.globalSettings.isMuted&&this.soundService.playAudio("game lost"):!this.globalSettings.isMuted&&this.soundService.playAudio("game won"),setTimeout(()=>{this.isResultsShown=!0},this.gameOverSoundDelay)}onCloseDialog(){this.isGameStarted?(this.isGamePaused=!0,this.dialog.open(M,{}).afterClosed().subscribe(()=>{this.isGamePaused=!1})):this.router.navigate(["mini-games"])}onToggleSound(){this.settings.changeMutedState()}onSetDifficultyLevel(t){this.difficultyLevel=t}onSetNumberOfRounds(t){this.numberOfGameRounds=t}onSetRoundLength(t){this.roundLength=t}onStartGameDialog(){this.isGameStarted=!1}onStartGame(){this.loading=!0,this.roundsLeft=this.numberOfGameRounds-1,this.sourceArray=[],this.resetGame(),this.isGameStarted=!0;const t=()=>{this.sourceArray.length?(this.loading=!1,this.nextRoundReset()):setTimeout(t,100)};t()}resetGame(){return je(this,void 0,void 0,function*(){this.isResultsShown=!1,this.movesCountdownCounter=0,this.currentWordIndex=0,this.currentRound=this.currentWordIndex+1,this.countdownTimer=0,this.spinnerValue=100,this.isGamePaused=!1,this.isRoundOver=!1,this.isGameOver=!1,this.errorsCounter=0,this.imageSrc=this.srcCommPart+this.errorsCounter+".png",this.trainedWords=[],this.onGetWords()})}addLeadingZero(t){return t<10?"0"+t:t.toString()}ngOnDestroy(){var t,e,n,i;null===(t=this.countDown)||void 0===t||t.unsubscribe(),null===(e=this.getWords)||void 0===e||e.unsubscribe(),null===(n=this.querySubscription)||void 0===n||n.unsubscribe(),null===(i=this.settingsSubscription$)||void 0===i||i.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(P.a),l.Nb(We),l.Nb(Te),l.Nb(j.a),l.Nb(E.a),l.Nb(a.a),l.Nb(a.c),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-custom-mini-game"]],decls:13,vars:8,consts:[[1,"background-container"],["mat-fab","",1,"close-game-button",3,"ngStyle","click"],["mat-fab","",1,"sound-button","center",3,"ngStyle","click"],[4,"ngIf"],["class","center margins-top-bottom",4,"ngIf"],["class","game-container",4,"ngIf"],[1,"game-fullscreen"],[3,"gameName","difficultyLevel","numOfRounds","roundLength","startGame",4,"ngIf"],[3,"gameName","difficultyLevel","numOfRounds","roundLength","startGame"],[1,"center","margins-top-bottom"],[1,"game-container"],["class","one-row center margins-top-bottom",4,"ngIf"],["class","full-height center",4,"ngIf"],["class","center margins-top-bottom display-block",4,"ngIf"],["class","center next-button",4,"ngIf"],["class","center center-text margins-top-bottom margins-left-right text-primary-normal",4,"ngIf"],[3,"trainedWords","wordsGroup","game","closeGameEvent",4,"ngIf"],[1,"gallows-img",3,"src"],[1,"one-row","center","margins-top-bottom"],[1,"margins-left-right","text-primary-normal"],[1,"text-warn"],[1,"spinner",3,"value","mode"],[1,"text-warn","time-counter"],["class","margins-left-right text-primary-normal",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"full-height","center"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"word-list",3,"cdkDropListDropped"],["class","word-box","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"word-box"],[1,"center","margins-top-bottom","display-block"],[1,"margins-top-bottom","text-primary-normal"],[1,"margins-top-bottom","text-warn"],[1,"center","next-button"],["mat-raised-button","","color","primary",3,"click"],[1,"center","center-text","margins-top-bottom","margins-left-right","text-primary-normal"],[3,"trainedWords","wordsGroup","game","closeGameEvent"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div"),l.Sb(2,"button",1),l.Zb("click",function(){return e.onCloseDialog()}),l.Sb(3,"mat-icon"),l.Ec(4,"close"),l.Rb(),l.Rb(),l.Rb(),l.Sb(5,"div"),l.Sb(6,"button",2),l.Zb("click",function(){return e.onToggleSound()}),l.Sb(7,"mat-icon"),l.Ec(8),l.Rb(),l.Rb(),l.Rb(),l.Cc(9,Ae,2,1,"div",3),l.Cc(10,Le,1,0,"mat-spinner",4),l.Cc(11,Ke,11,9,"div",5),l.Ob(12,"app-full-screen-button",6),l.Rb()),2&t&&(l.Cb(2),l.jc("ngStyle",l.lc(6,Xe)),l.Cb(4),l.jc("ngStyle",l.lc(7,Xe)),l.Cb(2),l.Gc("",e.globalSettings.isMuted?"music_off":"music_note"," "),l.Cb(1),l.jc("ngIf",!e.isGameStarted),l.Cb(1),l.jc("ngIf",e.loading),l.Cb(1),l.jc("ngIf",e.isGameStarted&&!e.loading))},directives:[u.b,i.n,d.a,i.m,G,H,D.c,i.l,Ee.b,Ee.a,gt],pipes:[i.u],styles:['.background-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background:#95aac0 url(custom-mini-game-background.b27f6f1679e569080f9a.png) 0 0 no-repeat;background-size:cover;display:flex;justify-content:center;align-items:center;z-index:4}.background-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;margin:auto;background:rgba(149,170,192,.65)}.game-container[_ngcontent-%COMP%]{margin-top:5rem;display:flex;align-self:flex-start;z-index:5}.game-fullscreen[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}.game-fullscreen[_ngcontent-%COMP%]     button{color:var(--color-dark-background)}.margins-top-bottom[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.margins-left-right[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.one-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.background[_ngcontent-%COMP%]{background-color:#dcdcdc}.center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.center-text[_ngcontent-%COMP%]{display:flex;text-align:center}.text-primary-normal[_ngcontent-%COMP%]{color:var(--color-primary-normal)}.text-primary-normal[_ngcontent-%COMP%], .text-warn[_ngcontent-%COMP%]{font-size:2rem;-webkit-user-select:none;user-select:none}.text-warn[_ngcontent-%COMP%]{color:var(--color-warn)}.word-list[_ngcontent-%COMP%]{max-width:100%;border:transparent;min-height:6rem;background:transparent;border-color:transparent;border-radius:4px;overflow:hidden}.word-box[_ngcontent-%COMP%], .word-list[_ngcontent-%COMP%]{display:flex;flex-direction:row}.word-box[_ngcontent-%COMP%]{max-width:6rem;max-height:6rem;min-width:3rem;min-height:3rem;resize:both;padding:1rem;margin:.5rem;color:var(--color-primary-normal);align-items:center;justify-content:center;cursor:move;background:#fff;font-size:3rem;flex-grow:1;flex-shrink:1;flex-basis:min-content;-webkit-user-select:none;user-select:none}.cdk-drag-preview[_ngcontent-%COMP%], .word-box[_ngcontent-%COMP%]{border-radius:4px;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]{border-width:1px;border-color:var(--color-warn);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.word-box[_ngcontent-%COMP%]:last-child{border:transparent}.word-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .word-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{background-color:#ccc;opacity:1}.cdk-drag-placeholder[_ngcontent-%COMP%], .word-custom-placeholder[_ngcontent-%COMP%]{border:1px dotted #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.word-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;min-height:60px}.close-game-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;cursor:pointer;background-color:var(--color-button);color:var(--color-dark-background)}.close-game-button[_ngcontent-%COMP%], .close-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.close-icon[_ngcontent-%COMP%]{font-size:2.5rem}.sound-button[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;cursor:pointer;background-color:var(--color-button);color:var(--color-dark-background)}.sound-button[_ngcontent-%COMP%], .sound-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.sound-icon[_ngcontent-%COMP%]{font-size:2.5rem}.gallows-img[_ngcontent-%COMP%]{transition:opacity 3s ease-in-out;height:20vh;-webkit-user-select:none;user-select:none}.wrap-text[_ngcontent-%COMP%]{flex-wrap:wrap}.display-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.time-counter[_ngcontent-%COMP%]{position:relative;top:-3.2rem;left:2rem;-webkit-user-select:none;user-select:none}.spinner[_ngcontent-%COMP%]{position:relative;top:.5rem}.next-button[_ngcontent-%COMP%]{position:absolute;margin:auto;left:0;right:0;bottom:10vh;-webkit-user-select:none;user-select:none}@media (min-width:1001px) and (max-width:1300px){.word-box[_ngcontent-%COMP%]{max-width:4rem;max-height:4rem;min-width:2.3rem;min-height:2.3rem;resize:both;padding:.5rem;margin:.2rem;font-size:2rem}}@media (min-width:701px) and (max-width:1000px){.word-box[_ngcontent-%COMP%]{max-width:4rem;max-height:4rem;min-width:2.1rem;min-height:2.1rem;resize:both;padding:.5rem;margin:.2rem;font-size:2rem}}@media (min-width:600px) and (max-width:700px){.word-box[_ngcontent-%COMP%]{max-width:4rem;max-height:4rem;min-width:1.9rem;min-height:2rem;resize:both;padding:.35rem;margin:.2rem;font-size:2rem}}@media (min-width:500px) and (max-width:599px){.word-box[_ngcontent-%COMP%]{max-width:3rem;max-height:3rem;min-width:1.4rem;min-height:1.4rem;resize:both;padding:.3rem;margin:.2rem;font-size:1.5rem}}@media (max-width:499px){.word-list[_ngcontent-%COMP%]{min-height:4rem}.word-box[_ngcontent-%COMP%]{max-width:3rem;max-height:3rem;min-width:1.3rem;min-height:1.3rem;resize:both;padding:.3rem;margin:.1rem;font-size:1.25rem}.margins-top-bottom[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.margins-left-right[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.next-button[_ngcontent-%COMP%]{margin-top:8rem}.text-primary-normal[_ngcontent-%COMP%], .text-warn[_ngcontent-%COMP%]{font-size:1.5rem}.time-counter[_ngcontent-%COMP%]{left:2.3rem}}@media (min-height:700px){.game-container[_ngcontent-%COMP%]{margin-top:3rem}.margins-top-bottom[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}}']}),t})();var en=function(t){return t[t.SETTING=0]="SETTING",t[t.PREP=1]="PREP",t[t.PLAY=2]="PLAY",t[t.PAUSE=3]="PAUSE",t[t.FINISH=4]="FINISH",t}({}),nn=function(t){return t.RIGHT="./../../../assets/sounds/mini-games/savannah/right.mp3",t.WRONG="./../../../assets/sounds/mini-games/savannah/wrong.mp3",t.WIN="./../../../assets/sounds/mini-games/savannah/win.mp3",t.LOSE="./../../../assets/sounds/mini-games/savannah/lose.mp3",t}({});function on(t,e){const n=Math.floor(Math.random()*t);return n!==e?n:Math.floor(Math.random()*t)}function rn(t,e){const n=[],i=void 0!==e?+e:void 0;for(;n.length<t;){const t=on(R.b,i);n.includes(t)||n.push(t)}return n}function sn(t){return t.map(t=>t.wordTranslate)}function an(t,e,n){for(var i=[],o=0;o<e;o++){var r=Math.floor(Math.random()*t.length);i.push(t[r]),t.splice(r,1)}return i}function cn(t){const e=new Audio;e.src=t,e.play()}let ln=(()=>{class t{constructor(t,e){this.gamesService=t,this.settings=e,this.game$=new I.a(t=>{t.next(this.game)}),this.game={gameState:en.SETTING,userId:null,learningWords:[],totalWordsAmount:0,randomTranslations:[],trainedWords:[],id:"",word:"",audio:"",wordTranslation:"",answers:[],isAnswerCorrect:!0,lifes:5,progress:0,points:0,isPaused:!1,queryParams:{},loading:!1}}ngOnDestroy(){var t,e,n,i;null===(t=this.wordsBatch$)||void 0===t||t.unsubscribe(),null===(e=this.translationsBatch$)||void 0===e||e.unsubscribe(),null===(n=this.translationsBatch$2)||void 0===n||n.unsubscribe(),null===(i=this.translationsBatch$3)||void 0===i||i.unsubscribe()}setUserID(t){this.game.userId=t}setQueryParams(t){this.game.queryParams.page=t.page,this.game.queryParams.group=t.group,this.game.queryParams.filter=t.filter}setGameState(t){this.game.gameState=t}setPause(t){this.game.isPaused=t}getWords(t){this.game.loading=!0;let e="",n="",i="",o="",r="";if(t&&(e=this.game.queryParams.group=t.toString()),this.game.queryParams.group&&(e=this.game.queryParams.group),this.game.queryParams.page){n=this.game.queryParams.page;let[t,e,s]=rn(3,this.game.queryParams.page);i=t.toString(),o=e.toString(),r=s.toString()}else{let[t,e,s,a]=rn(4);n=t.toString(),i=e.toString(),o=s.toString(),r=a.toString()}this.wordsBatch$=this.gamesService.getWords({userId:this.game.userId||void 0,group:`${e}`,page:`${n}`,filter:this.game.queryParams.filter}).subscribe(t=>{t.length&&t[0].paginatedResults&&(t=t[0].paginatedResults),this.game.learningWords.push(...t),this.game.totalWordsAmount=t.length,this.game.loading=!1,this.game.gameState=en.PREP}),this.translationsBatch$=this.gamesService.getWords({group:`${e}`,page:`${i}`}).subscribe(t=>{this.game.randomTranslations.push(...sn(t))}),this.translationsBatch$2=this.gamesService.getWords({group:`${e}`,page:`${o}`}).subscribe(t=>{this.game.randomTranslations.push(...sn(t))}),this.translationsBatch$3=this.gamesService.getWords({group:`${e}`,page:`${r}`}).subscribe(t=>{this.game.randomTranslations.push(...sn(t))})}nextWord(){if(!this.game.learningWords.length||0===this.game.lifes)return!this.settings.getMutedState()&&cn(this.game.lifes?nn.WIN:nn.LOSE),void this.finishGame();const t=on(this.game.learningWords.length-1);this.game.id=this.game.learningWords[t]._id||this.game.learningWords[t].id,this.game.word=this.game.learningWords[t].word,this.game.audio=this.game.learningWords[t].audio,this.game.wordTranslation=this.game.learningWords.splice(t,1)[0].wordTranslate,this.game.answers=[...an(this.game.randomTranslations,3),this.game.wordTranslation].sort(()=>Math.random()-.5)}setAnswer(t){this.game.isAnswerCorrect=t,this.game.progress+=100/this.game.totalWordsAmount;const e={id:this.game.id,word:this.game.word,translation:this.game.wordTranslation,timeStamp:Date.now(),result:t?O.a.CORRECT:O.a.WRONG,audio:this.game.audio};this.game.trainedWords=[...this.game.trainedWords,e],t?this.game.points+=1:this.game.lifes-=1,setTimeout(()=>{this.nextWord()},0)}playSound(t){!this.settings.getMutedState()&&cn(t?nn.RIGHT:nn.WRONG)}finishGame(){this.game.gameState=en.FINISH}gameReset(){this.game.gameState=en.SETTING,this.game.learningWords=[],this.game.randomTranslations=[],this.game.trainedWords=[],this.game.id="",this.game.word="",this.game.audio="",this.game.wordTranslation="",this.game.answers=[],this.game.lifes=5,this.game.progress=0,this.game.points=0}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(j.a),l.Wb(W))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dn(t,e){1&t&&(l.Qb(0),l.Sb(1,"mat-icon"),l.Ec(2,"music_off"),l.Rb(),l.Pb())}function un(t,e){1&t&&(l.Sb(0,"mat-icon"),l.Ec(1,"music_note"),l.Rb())}function gn(t,e){1&t&&l.Ob(0,"app-progress")}function mn(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Cc(1,gn,1,0,"app-progress",8),l.Sb(2,"app-start-game",9),l.Zb("difficultySelected",function(e){return l.uc(t),l.dc().startGameWithDifficulty(e)}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("ngIf",t.game.loading),l.Cb(1),l.jc("hasDifficultySlider",!0)("gameName",t.games.SAVANNAH)("textColor","#fff")}}function bn(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"app-counter",10),l.Zb("countIsOver",function(){return l.uc(t),l.dc().startToPlay()}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("count",3)("isPaused",t.game.isPaused)}}function hn(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"app-main-actions",11),l.Zb("answered",function(e){return l.uc(t),l.dc().answered(e)}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("word",t.game.word)("translation",t.game.wordTranslation)("answers",t.game.answers)("lifes",t.game.lifes)("progress",t.game.progress)}}function pn(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"app-end-game",12),l.Zb("closeGameEvent",function(){return l.uc(t),l.dc().resetGame()}),l.Rb(),l.Pb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("trainedWords",t.game.trainedWords)("wordsGroup",t.game.queryParams.group||t.DEFAULT_DIFFICULTY_LEVEL)("gamePoints",t.game.points)("game",t.games.SAVANNAH)}}const fn=function(){return{"background-color":"transparent"}};let _n=(()=>{class t{constructor(t,e,n,i,o,r){this.savannahService=t,this.closeDialog=e,this.route=n,this.userService=i,this.router=o,this.settings=r,this.gameState=en,this.games=c.c,this.DEFAULT_DIFFICULTY_LEVEL=R.a}ngOnInit(){this.gameSubscription$=this.savannahService.game$.subscribe(t=>{this.game=t}),this.settingsSubscription$=this.settings.gameSettings.subscribe(t=>{this.settings$=t}),this.savannahService.setUserID(this.userService.getUserId()),this.routeSubscription$=this.route.queryParams.subscribe(t=>{this.savannahService.setQueryParams(t)})}ngOnDestroy(){var t,e,n;null===(t=this.routeSubscription$)||void 0===t||t.unsubscribe(),this.savannahService.gameReset(),null===(e=this.gameSubscription$)||void 0===e||e.unsubscribe(),null===(n=this.settingsSubscription$)||void 0===n||n.unsubscribe()}startToPlay(){this.savannahService.setGameState(en.PLAY),this.savannahService.nextWord()}startGameWithDifficulty(t){this.savannahService.getWords(t)}answered(t){this.savannahService.setAnswer(t)}openCloseDialog(){this.game.gameState===en.PLAY?(this.savannahService.setPause(!0),this.closeDialog.open(M),this.closeDialogSubsription=this.closeDialog.afterAllClosed.subscribe(()=>{this.savannahService.setPause(!1)})):this.router.navigate(["mini-games"])}resetGame(){this.savannahService.gameReset(),this.savannahService.setGameState(en.SETTING)}changeMute(){this.settings.changeMutedState()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(ln),l.Nb(P.a),l.Nb(a.a),l.Nb(E.a),l.Nb(a.c),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-savannah-mini-game"]],decls:14,vars:11,consts:[[1,"savannah",3,"ngSwitch"],[1,"savannah-controls"],["mat-fab","",1,"savannah-controls_close",3,"ngStyle","click"],["mat-fab","",1,"savannah-controls_volume",3,"ngStyle","click"],[4,"ngIf","ngIfElse"],["up",""],[4,"ngSwitchCase"],["color","warn",1,"savannah-fullscreen_btn"],[4,"ngIf"],[3,"hasDifficultySlider","gameName","textColor","difficultySelected"],["spinnerColor","warn",3,"count","isPaused","countIsOver"],[3,"word","translation","answers","lifes","progress","answered"],[3,"trainedWords","wordsGroup","gamePoints","game","closeGameEvent"]],template:function(t,e){if(1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"button",2),l.Zb("click",function(){return e.openCloseDialog()}),l.Sb(3,"mat-icon"),l.Ec(4,"close"),l.Rb(),l.Rb(),l.Sb(5,"button",3),l.Zb("click",function(){return e.changeMute()}),l.Cc(6,dn,3,0,"ng-container",4),l.Cc(7,un,2,0,"ng-template",null,5,l.Dc),l.Rb(),l.Rb(),l.Cc(9,mn,3,4,"ng-container",6),l.Cc(10,bn,2,2,"ng-container",6),l.Cc(11,hn,2,5,"ng-container",6),l.Cc(12,pn,2,4,"ng-container",6),l.Ob(13,"app-full-screen-button",7),l.Rb()),2&t){const t=l.qc(8);l.jc("ngSwitch",e.game.gameState),l.Cb(2),l.jc("ngStyle",l.lc(9,fn)),l.Cb(3),l.jc("ngStyle",l.lc(10,fn)),l.Cb(1),l.jc("ngIf",e.settings$.isMuted)("ngIfElse",t),l.Cb(3),l.jc("ngSwitchCase",e.gameState.SETTING),l.Cb(1),l.jc("ngSwitchCase",e.gameState.PREP),l.Cb(1),l.jc("ngSwitchCase",e.gameState.PLAY),l.Cb(1),l.jc("ngSwitchCase",e.gameState.FINISH)}},styles:['[_nghost-%COMP%]{position:fixed;background:url(savannah-bg.3a42482114d99802f87a.jpg) no-repeat 50% fixed;background-color:#29b1a4;background-size:cover;min-height:100vh;top:0;bottom:0;left:0;right:0;z-index:4;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;margin:auto;background:rgba(var(--color-accent-rgb),.5)}.savannah[_ngcontent-%COMP%]{color:var(--color-light)}.savannah-fullscreen_btn[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px}.savannah-controls[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;display:flex;flex-direction:row-reverse}.savannah-controls_volume[_ngcontent-%COMP%]{margin:0 5px}.savannah-controls_close[_ngcontent-%COMP%], .savannah-controls_volume[_ngcontent-%COMP%]{background-color:var(--color-button)}@media screen and (max-width:500px){.savannah-controls[_ngcontent-%COMP%]{flex-direction:column}.savannah-controls_volume[_ngcontent-%COMP%]{margin:5px 0}}']}),t})();var Cn=n("+//s"),vn=n("yPr8");const Sn=function(){return{"background-color":"transparent"}};function wn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",2),l.Zb("click",function(){return l.uc(t),l.dc().soundOFF()}),l.Sb(1,"i",3),l.Ec(2,"music_note"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,Sn))}function On(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",4),l.Zb("click",function(){return l.uc(t),l.dc().soundON()}),l.Sb(1,"i",3),l.Ec(2,"music_off"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,Sn))}let yn=(()=>{class t{constructor(t,e){this.store=t,this.settingsService=e}ngOnInit(){this.isSoundOn$=this.store.select(vn.f)}soundON(){this.store.dispatch(Object(Cn.j)()),this.settingsService.changeMutedState()}soundOFF(){this.store.dispatch(Object(Cn.i)()),this.settingsService.changeMutedState()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-game-sounds-button"]],decls:4,vars:4,consts:[[3,"ngIf","ngIfElse"],["soundOffBtn",""],["mat-fab","","aria-label","Turn sound off",1,"audio__btn",3,"ngStyle","click"],[1,"material-icons"],["mat-fab","","aria-label","Turn sound on",1,"audio__btn",3,"ngStyle","click"]],template:function(t,e){if(1&t&&(l.Cc(0,wn,3,2,"ng-template",0),l.ec(1,"async"),l.Cc(2,On,3,2,"ng-template",null,1,l.Dc)),2&t){const t=l.qc(3);l.jc("ngIf",l.fc(1,2,e.isSoundOn$))("ngIfElse",t)}},directives:[i.m,u.b,i.n],pipes:[i.b],styles:[".audio__btn[_ngcontent-%COMP%]{background-color:var(--color-button);position:absolute;top:1rem;left:1rem;z-index:5}"]}),t})();const xn=function(){return{"background-color":"transparent"}};function Pn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div"),l.Ob(1,"img",3),l.Sb(2,"mat-card-title"),l.Sb(3,"button",4),l.Zb("click",function(){return l.uc(t),l.dc().onPlay()}),l.Sb(4,"i",5),l.Ec(5,"volume_up"),l.Rb(),l.Rb(),l.Ec(6),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("src",t.constPath+"/"+t.word.image,l.wc)("alt",t.word.word),l.Cb(2),l.jc("ngStyle",l.lc(6,xn)),l.Cb(3),l.Ic(" ",t.word.word," ",t.word.transcription," ",t.word.wordTranslate," ")}}function kn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",6),l.Zb("click",function(){return l.uc(t),l.dc().onPlay()}),l.Sb(1,"i",7),l.Ec(2,"volume_up"),l.Rb(),l.Rb()}2&t&&l.jc("ngStyle",l.lc(1,xn))}const Mn=function(){return{"box-shadow":"none"}};let Rn=(()=>{class t{constructor(){this.playEvent=new l.n,this.constPath=c.a}ngOnChanges(){this.path=`${c.a}/${this.word.image}?raw=true`}onPlay(){this.playEvent.emit()}keyEvent(t){" "===t.key&&this.onPlay()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-word-card"]],hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{word:"word",guessed:"guessed"},outputs:{playEvent:"playEvent"},features:[l.Ab],decls:4,vars:4,consts:[[1,"card",3,"ngStyle"],[4,"ngIf","ngIfElse"],["audioBtnBlock",""],[1,"card__image",3,"src","alt"],["mat-mini-fab","",1,"audio__btn",3,"ngStyle","click"],[1,"material-icons"],["mat-fab","",1,"audio__btn","audio__btn_big",3,"ngStyle","click"],[1,"material-icons","md-48"]],template:function(t,e){if(1&t&&(l.Sb(0,"mat-card",0),l.Cc(1,Pn,7,7,"div",1),l.Rb(),l.Cc(2,kn,3,2,"ng-template",null,2,l.Dc)),2&t){const t=l.qc(3);l.jc("ngStyle",l.lc(3,Mn)),l.Cb(1),l.jc("ngIf",e.guessed)("ngIfElse",t)}},directives:[g.a,i.n,i.m,g.h,u.b],styles:[".audio__btn[_ngcontent-%COMP%]{box-shadow:none;background-color:hsla(0,0%,100%,.07);width:3.5rem;height:3.5rem;transition:all .3s ease-in}.audio__btn[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.audio__btn[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:scale(1.1)}.audio__btn_big[_ngcontent-%COMP%]{width:11rem;height:11rem}.material-icons[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.8);font-size:2.5rem;transition:all .3s ease-in}.material-icons.md-48[_ngcontent-%COMP%]{font-size:6rem}.card[_ngcontent-%COMP%]{min-height:365px;background-color:initial;box-shadow:none;text-align:center;color:hsla(0,0%,100%,.9)}.mat-card-title[_ngcontent-%COMP%]{line-height:3rem;font-size:2rem}.mat-card-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}@media (max-width:500px){.card__image[_ngcontent-%COMP%]{max-width:90vw}}"],changeDetection:0}),t})();const jn=["wordForm"];function En(t,e){1&t&&l.Ob(0,"input",3),2&t&&l.jc("name",e.index)}let In=(()=>{class t{constructor(){this.checkAnswer=new l.n,this.guessEvent=new l.n,this.nextWordEvent=new l.n,this.isGuessed=!1,this.selectedIndex=0,this.trackByIdentity=t=>t}ngOnChanges(t){this.isGuessed=!1,this.wordForm&&(this.wordForm.nativeElement.classList.remove("spelling__correct"),this.wordForm.nativeElement.classList.remove("spelling__wrong"),[...this.wordForm.nativeElement.children].forEach((t,e)=>{0===e&&(this.selectedIndex=e,t.focus()),t.value=""}))}keyEvent(t){var e,n,i,o,r,s;if(void 0!==this.selectedIndex)switch(t.key){case"ArrowRight":this.selectedIndex<this.currentWord.word.length-1&&(this.selectedIndex+=1,null===(e=this.wordForm)||void 0===e||e.nativeElement.children[this.selectedIndex].focus());break;case"ArrowLeft":this.selectedIndex>0&&(this.selectedIndex-=1,null===(n=this.wordForm)||void 0===n||n.nativeElement.children[this.selectedIndex].focus());break;case"Backspace":this.wordForm&&(this.wordForm.nativeElement.children[this.selectedIndex].value=""),this.selectedIndex>0&&(this.selectedIndex-=1,null===(i=this.wordForm)||void 0===i||i.nativeElement.children[this.selectedIndex].focus());break;case"Delete":this.wordForm&&(this.wordForm.nativeElement.children[this.selectedIndex].value="");break;case"Enter":if(this.isGuessed||(null===(o=this.wordForm)||void 0===o?void 0:o.nativeElement.classList.contains("spelling__correct"))||(null===(r=this.wordForm)||void 0===r?void 0:r.nativeElement.classList.contains("spelling__wrong")))this.nextWordEvent.emit();else{const t=this.getSpelledWord();document.activeElement.blur(),this.changeStyle(t,this.currentWord.word),this.checkAnswer.emit(t),this.isGuessed=!0}break;case" ":break;default:/^[a-z]$/.test(t.key)&&this.wordForm&&(this.wordForm.nativeElement.children[this.selectedIndex].value=t.key),this.selectedIndex<this.currentWord.word.length-1&&(this.selectedIndex+=1,null===(s=this.wordForm)||void 0===s||s.nativeElement.children[this.selectedIndex].focus())}}onLettersClick(t){var e;const n=null===(e=t.target)||void 0===e?void 0:e.name;void 0!==n&&(this.selectedIndex=+n)}changeStyle(t,e){var n,i;t.toLowerCase()===e.toLowerCase()?null===(n=this.wordForm)||void 0===n||n.nativeElement.classList.add("spelling__correct"):null===(i=this.wordForm)||void 0===i||i.nativeElement.classList.add("spelling__wrong")}getSpelledWord(){let t="";return this.wordForm&&[...this.wordForm.nativeElement.children].forEach(e=>{t+=e.value}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-word"]],viewQuery:function(t,e){if(1&t&&l.Jc(jn,1),2&t){let t;l.pc(t=l.ac())&&(e.wordForm=t.first)}},hostBindings:function(t,e){1&t&&l.Zb("keyup",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{currentWord:"currentWord"},outputs:{checkAnswer:"checkAnswer",guessEvent:"guessEvent",nextWordEvent:"nextWordEvent"},features:[l.Ab],decls:3,vars:2,consts:[[3,"click"],["wordForm",""],["type","text","maxlength","1","autofocus","on","autocomplete","off",3,"name",4,"ngFor","ngForOf","ngForTrackBy"],["type","text","maxlength","1","autofocus","on","autocomplete","off",3,"name"]],template:function(t,e){1&t&&(l.Sb(0,"form",0,1),l.Zb("click",function(t){return e.onLettersClick(t)}),l.Cc(2,En,1,1,"input",2),l.Rb()),2&t&&(l.Cb(2),l.jc("ngForOf",null==e.currentWord||null==e.currentWord.word?null:e.currentWord.word.split(""))("ngForTrackBy",e.trackByIdentity))},directives:[i.l],styles:["form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:.5rem;margin-bottom:3rem}form.spelling__correct[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:1px solid green}form.spelling__wrong[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:1px solid red}input[type=text][_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem;text-transform:uppercase;text-align:center;color:var(--color-light);background-color:var(--color-dark);border:1px solid hsla(0,0%,100%,.2);border-radius:3px}@media (max-width:800px){form[_ngcontent-%COMP%]{gap:.3rem}input[type=text][_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:2.5rem}}@media (max-width:500px){form[_ngcontent-%COMP%]{gap:.1rem}input[type=text][_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}}"],changeDetection:0}),t})();function Wn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",2),l.Zb("click",function(){return l.uc(t),l.dc().guess()}),l.Ec(1,"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c"),l.Rb()}}function Tn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",3,4),l.Zb("click",function(){return l.uc(t),l.dc().nextWord()}),l.Rb()}}let Gn=(()=>{class t{constructor(){this.guessEvent=new l.n,this.nextWordEvent=new l.n}guess(){this.guessEvent.emit()}nextWord(){this.nextWordEvent.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-decision-buttons"]],inputs:{guessed:"guessed"},outputs:{guessEvent:"guessEvent",nextWordEvent:"nextWordEvent"},decls:3,vars:2,consts:[["dontKnowBtn",""],["class","spelling__button spelling__button_arrow-right",3,"click",4,"ngIf","ngIfElse"],[1,"spelling__button",3,"click"],[1,"spelling__button","spelling__button_arrow-right",3,"click"],["nextBtn",""]],template:function(t,e){if(1&t&&(l.Cc(0,Wn,2,0,"ng-template",null,0,l.Dc),l.Cc(2,Tn,2,0,"button",1)),2&t){const t=l.qc(1);l.Cb(2),l.jc("ngIf",e.guessed)("ngIfElse",t)}},directives:[i.m],styles:[".spelling__button[_ngcontent-%COMP%]{height:60px;background-color:hsla(0,0%,100%,.096);display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.2rem;line-height:1.2rem;padding:19px 15px;min-width:162px;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;text-align:center;text-decoration:none;color:hsla(0,0%,100%,.9);text-transform:uppercase;cursor:pointer;transition:all .15s ease;outline:none}.spelling__button_arrow-right[_ngcontent-%COMP%]{background-image:url(arrow_right_alt-24px.af0430d15dbd3676f962.svg);background-repeat:no-repeat;background-position:50%;background-size:80%}"],changeDetection:0}),t})();const An=["spellingWordComponent"];function Ln(t,e){1&t&&l.Ob(0,"app-progress")}function Dn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",2),l.Sb(1,"app-spelling-word-card",3),l.Zb("playEvent",function(){return l.uc(t),l.dc().playSound()}),l.ec(2,"async"),l.Rb(),l.Sb(3,"app-spelling-word",4,5),l.Zb("nextWordEvent",function(){return l.uc(t),l.dc().nextWord()})("checkAnswer",function(e){return l.uc(t),l.dc().checkAnswer(e)}),l.Rb(),l.Sb(5,"app-spelling-decision-buttons",6),l.Zb("guessEvent",function(){l.uc(t);const n=e.$implicit;return l.dc().checkWord(n)})("nextWordEvent",function(){return l.uc(t),l.dc().nextWord()}),l.ec(6,"async"),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=l.dc();l.Cb(1),l.jc("word",t)("guessed",l.fc(2,4,n.guessed$)),l.Cb(2),l.jc("currentWord",t),l.Cb(2),l.jc("guessed",l.fc(6,6,n.guessed$))}}let Fn=(()=>{class t{constructor(t,e){this.store=t,this.settingsService=e,this.isLoading=!0}ngOnInit(){this.settingsSubscription=this.settingsService.gameSettings.subscribe(t=>{this.settings=t,this.store.dispatch(this.settings.isMuted?Object(Cn.i)():Object(Cn.j)())}),this.store.dispatch(Object(Cn.e)({payload:{group:this.difficulty||this.group,page:this.page,userId:this.userId||void 0,filter:this.filter}})),this.currentWord$=this.store.select(vn.a),this.words$=this.store.select(vn.h),this.guessed$=this.store.select(vn.b),this.loadingSubscription=this.words$.subscribe(t=>{var e;(null==t?void 0:t.length)>0&&(this.isLoading=!1,null===(e=this.loadingSubscription)||void 0===e||e.unsubscribe())})}ngOnDestroy(){this.settingsSubscription&&this.settingsSubscription.unsubscribe()}playSound(){this.store.dispatch(Object(Cn.f)())}checkWord(t){var e,n;let i="";this.spellingWordComponent&&this.spellingWordComponent.wordForm&&([...this.spellingWordComponent.wordForm.nativeElement.children].forEach(t=>{i+=t.value}),i.toLowerCase()===t.word.toLowerCase()?null===(e=this.spellingWordComponent.wordForm)||void 0===e||e.nativeElement.classList.add("spelling__correct"):null===(n=this.spellingWordComponent.wordForm)||void 0===n||n.nativeElement.classList.add("spelling__wrong")),this.store.dispatch(Object(Cn.a)({payload:i})),this.store.dispatch(Object(Cn.m)())}nextWord(){this.store.dispatch(Object(Cn.b)())}checkAnswer(t){this.store.dispatch(Object(Cn.m)()),this.store.dispatch(Object(Cn.a)({payload:t}))}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(W))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-game"]],viewQuery:function(t,e){if(1&t&&l.Jc(An,1),2&t){let t;l.pc(t=l.ac())&&(e.spellingWordComponent=t.first)}},inputs:{difficulty:"difficulty",page:"page",group:"group",userId:"userId",filter:"filter"},decls:4,vars:4,consts:[[4,"ngIf"],[3,"ngIf"],[1,"spelling__container"],[3,"word","guessed","playEvent"],[3,"currentWord","nextWordEvent","checkAnswer"],["spellingWordComponent",""],[3,"guessed","guessEvent","nextWordEvent"]],template:function(t,e){1&t&&(l.Cc(0,Ln,1,0,"app-progress",0),l.Ob(1,"app-spelling-game-sounds-button"),l.Cc(2,Dn,7,8,"ng-template",1),l.ec(3,"async")),2&t&&(l.jc("ngIf",e.isLoading),l.Cb(2),l.jc("ngIf",l.fc(3,2,e.currentWord$)))},directives:[i.m,yn,ee.a,Rn,In,Gn],pipes:[i.b],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(spelling-bg.cbfc1d913d4126fa4834.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;text-align:center}.spelling__container[_ngcontent-%COMP%]{width:100%;padding:0 1.5rem}.spelling__button[_ngcontent-%COMP%]{height:60px;background-color:hsla(0,0%,100%,.096);display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.2rem;line-height:1.2rem;padding:19px 15px;min-width:162px;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;text-align:center;text-decoration:none;color:hsla(0,0%,100%,.9);text-transform:uppercase;cursor:pointer;transition:all .15s ease;outline:none;background-image:url(arrow_right_alt-24px.af0430d15dbd3676f962.svg);background-repeat:no-repeat;background-position:50%;background-size:80%}"]}),t})();function Nn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",6),l.Sb(1,"app-start-game",7),l.Zb("difficultySelected",function(e){return l.uc(t),l.dc().setDifficulty(e)}),l.Rb(),l.Rb()}if(2&t){const t=l.dc();l.Cb(1),l.jc("gameName",t.games.SPELLING)("textColor","#fff")("hasDifficultySlider",t.hasDifficultySlider)}}function zn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-end-game",10),l.Zb("closeGameEvent",function(){return l.uc(t),l.dc(2).clearGame()}),l.ec(1,"async"),l.Rb()}if(2&t){const t=l.dc(2);l.jc("trainedWords",l.fc(1,3,t.trainedWords$))("wordsGroup",t.difficulty||t.group||t.DEFAULT_DIFFICULTY_LEVEL)("game",t.games.SPELLING)}}function $n(t,e){if(1&t&&l.Ob(0,"app-spelling-game",11),2&t){const t=l.dc(2);l.jc("difficulty",t.difficulty)("page",t.page)("group",t.group)("filter",t.filter)("userId",t.userId)}}function Bn(t,e){if(1&t&&(l.Sb(0,"div"),l.Cc(1,zn,2,5,"app-end-game",8),l.ec(2,"async"),l.Cc(3,$n,1,5,"ng-template",null,9,l.Dc),l.Rb()),2&t){const t=l.qc(4),e=l.dc();l.Cb(1),l.jc("ngIf",l.fc(2,2,e.isGameEnded))("ngIfElse",t)}}function Zn(t,e){}const qn=function(){return{"background-color":"transparent"}},Hn=[{path:"sprint",component:Ot},{path:"audiochallenge",component:Re},{path:"savannah",component:_n},{path:"custom-mini-game",component:tn},{path:"spelling",component:(()=>{class t{constructor(t,e,n,i,o){this.store=t,this.dialog=e,this.route=n,this.userService=i,this.router=o,this.games=c.c,this.userId=this.userService.getUserId(),this.DEFAULT_DIFFICULTY_LEVEL=R.a,this.hasDifficultySlider=!0,this.isLoading=!1}ngOnInit(){this.clearGame(),this.isGameStarted$=this.store.select(vn.d),this.isGameEnded=this.store.select(vn.c),this.trainedWords$=this.store.select(vn.g),this.querySubscription=this.route.queryParams.subscribe(t=>{this.page=t.page,this.group=t.group,this.filter=t.filter,void 0!==this.page&&(this.hasDifficultySlider=!1)})}startGame(){this.store.dispatch(Object(Cn.l)())}setDifficulty(t){void 0!==t&&(this.difficulty=t.toString()),this.startGame()}openDialog(){this.isGameStarted$.pipe(Object(te.a)(1)).subscribe(t=>{t?this.dialog.open(M):this.router.navigate(["mini-games"])})}clearGame(){this.store.dispatch(Object(Cn.c)())}ngOnDestroy(){this.querySubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(o.h),l.Nb(P.a),l.Nb(a.a),l.Nb(E.a),l.Nb(a.c))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-spelling-main"]],decls:10,vars:6,consts:[["introBlock",""],[4,"ngIf","ngIfElse"],["gameBlock",""],["mat-fab","",3,"ngStyle","click"],[1,"material-icons","close-btn"],[1,"full-screen__btn"],[1,"intro"],[3,"gameName","textColor","hasDifficultySlider","difficultySelected"],[3,"trainedWords","wordsGroup","game","closeGameEvent",4,"ngIf","ngIfElse"],["endGameBlock",""],[3,"trainedWords","wordsGroup","game","closeGameEvent"],[3,"difficulty","page","group","filter","userId"]],template:function(t,e){if(1&t&&(l.Cc(0,Nn,2,3,"ng-template",null,0,l.Dc),l.Cc(2,Bn,5,4,"div",1),l.ec(3,"async"),l.Cc(4,Zn,0,0,"ng-template",null,2,l.Dc),l.Sb(6,"button",3),l.Zb("click",function(){return e.openDialog()}),l.Sb(7,"span",4),l.Ec(8,"close"),l.Rb(),l.Rb(),l.Ob(9,"app-full-screen-button",5)),2&t){const t=l.qc(1);l.Cb(2),l.jc("ngIf",l.fc(3,3,e.isGameStarted$))("ngIfElse",t),l.Cb(4),l.jc("ngStyle",l.lc(5,qn))}},directives:[i.m,u.b,i.n,G,H,gt,Fn],pipes:[i.b],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#212121,#616161 72%,#757575);background-size:cover;flex-wrap:wrap;z-index:4}.intro[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}.intro[_ngcontent-%COMP%]{text-align:center;color:var(--color-light);flex-direction:column}.mini-game[_ngcontent-%COMP%]{width:100%;min-height:80vh;transition:all 1s ease;background:#212121;background:linear-gradient(180deg,#212121,#616161 72%,#757575);position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden}.title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;line-height:1;margin-bottom:3.75rem;text-transform:uppercase;-webkit-font-smoothing:antialiased;letter-spacing:.8125rem}.text[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);opacity:.8}.text[_ngcontent-%COMP%]{max-width:565px;margin:0 auto 1.25rem;font-size:1.125rem;line-height:1.5rem}.start_btn[_ngcontent-%COMP%]{background-color:initial;display:inline-block;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.5rem;line-height:1;padding:1.1875rem .9375rem 1.3125rem;min-width:162px;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;text-align:center;text-decoration:none;color:hsla(0,0%,100%,.7);text-transform:uppercase;font-weight:300;cursor:pointer;transition:all .15s ease;outline:none}.mat-fab[_ngcontent-%COMP%]{top:1rem;background-color:var(--color-button);z-index:1000001}.full-screen__btn[_ngcontent-%COMP%], .mat-fab[_ngcontent-%COMP%]{position:absolute;right:1rem}.full-screen__btn[_ngcontent-%COMP%]{bottom:1rem}"]}),t})()},{path:"",component:v,pathMatch:"full"}];let Un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({imports:[[a.g.forChild(Hn)],a.g]}),t})();var Vn=n("hctd"),Yn=n("R0Ic");const Qn=["wordElement"];let Jn=(()=>{class t{constructor(t,e){this.builder=t,this.savannahService=e,this.wordGone=new l.n,this.animationState="slide"}ngOnChanges(t){t.word.previousValue&&(this.destroy(this.animationState),this.animationState="slide",this.wordElement.nativeElement.style={bottom:"*",width:"fit-content",opacity:1},this.slideAnimation())}ngAfterViewInit(){this.slideAnimation()}ngOnDestroy(){this.animationState=""}animate(t){"slide"===this.animationState&&(this.animationState=t?"right":"wrong",this.destroy("slide"),t?this.rightAnimation():this.wrongAnimation())}slideAnimation(){this.slidePlayer=this.builder.build([Object(Yn.l)({opacity:0}),Object(Yn.i)([Object(Yn.e)(200,Object(Yn.l)({opacity:1})),Object(Yn.e)(3600,Object(Yn.l)({bottom:0})),Object(Yn.e)(200,Object(Yn.l)({opacity:0}))])]).create(this.wordElement.nativeElement),this.slidePlayer.play(),this.slidePlayer.onDone(()=>{"slide"===this.animationState&&(this.savannahService.playSound(!1),this.emit(!1))})}rightAnimation(){this.rightPlayer=this.builder.build([Object(Yn.e)(300,Object(Yn.l)({width:"1px",overflow:"hidden",bottom:0}))]).create(this.wordElement.nativeElement),this.rightPlayer.play(),this.rightPlayer.onDone(()=>{this.emit(!0)})}wrongAnimation(){this.wrongPlayer=this.builder.build([Object(Yn.e)(200,Object(Yn.l)({top:0}))]).create(this.wordElement.nativeElement),this.wrongPlayer.play(),this.wrongPlayer.onDone(()=>{this.emit(!1)})}destroy(t){"slide"==t?this.slidePlayer.destroy():"right"==t?this.rightPlayer.destroy():"wrong"==t&&this.wrongPlayer.destroy()}emit(t){this.wordGone.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(Yn.b),l.Nb(ln))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-sliding-word"]],viewQuery:function(t,e){if(1&t&&l.Jc(Qn,1),2&t){let t;l.pc(t=l.ac())&&(e.wordElement=t.first)}},inputs:{word:"word"},outputs:{wordGone:"wordGone"},features:[l.Ab],decls:4,vars:3,consts:[[1,"word-container"],["wordElement",""]],template:function(t,e){1&t&&(l.Sb(0,"div",0,1),l.Ec(2),l.ec(3,"lowercase"),l.Rb()),2&t&&(l.Cb(2),l.Gc(" ",l.fc(3,1,e.word),"\n"))},pipes:[i.j],styles:[".word-container[_ngcontent-%COMP%]{transform:translateX(-50%);position:absolute;font-size:2.8rem;-webkit-user-select:none;user-select:none}"],changeDetection:0}),t})();function Kn(t,e){1&t&&(l.Sb(0,"mat-icon",2),l.Ec(1,"favorite_border"),l.Rb())}function Xn(t,e){1&t&&(l.Sb(0,"mat-icon",3),l.Ec(1,"favorite"),l.Rb())}let ti=(()=>{class t{numSequence(t){return Array.from("x".repeat(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-lifes"]],inputs:{lifes:"lifes"},decls:2,vars:2,consts:[["class","icon icon_border","aria-label","Life",4,"ngFor","ngForOf"],["class","icon icon_filled","aria-label","Life",4,"ngFor","ngForOf"],["aria-label","Life",1,"icon","icon_border"],["aria-label","Life",1,"icon","icon_filled"]],template:function(t,e){1&t&&(l.Cc(0,Kn,2,0,"mat-icon",0),l.Cc(1,Xn,2,0,"mat-icon",1)),2&t&&(l.jc("ngForOf",e.numSequence(5-e.lifes)),l.Cb(1),l.jc("ngForOf",e.numSequence(e.lifes)))},directives:[i.l,d.a],styles:["[_nghost-%COMP%]{position:absolute;top:10px;left:10px;display:flex;flex-direction:row-reverse}@media screen and (max-width:500px){[_nghost-%COMP%]{flex-direction:column}}.icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"],changeDetection:0}),t})();function ei(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",2),l.Zb("click",function(){l.uc(t);const n=e.index;return l.dc().wordClicked(n)}),l.Ec(1),l.ec(2,"uppercase"),l.Rb()}if(2&t){const t=e.$implicit,n=e.index;l.Cb(1),l.Hc(" ",n+1,".",l.fc(2,2,t)," ")}}let ni=(()=>{class t{constructor(){this.clicked=new l.n}keyEvent(t){[1,2,3,4].includes(+t.key)&&this.wordClicked(+t.key-1)}trackByFn(t){return t}wordClicked(t){this.clicked.emit(this.options[t])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-options-input"]],hostBindings:function(t,e){1&t&&l.Zb("keydown",function(t){return e.keyEvent(t)},!1,l.tc)},inputs:{options:"options"},outputs:{clicked:"clicked"},decls:2,vars:2,consts:[[1,"savannah-options"],["mat-button","","class","savannah-options_word",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["mat-button","",1,"savannah-options_word",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Cc(1,ei,3,4,"button",1),l.Rb()),2&t&&(l.Cb(1),l.jc("ngForOf",e.options)("ngForTrackBy",e.trackByFn))},directives:[i.l,u.b],pipes:[i.u],styles:[".savannah-options[_ngcontent-%COMP%]{display:flex}.savannah-options_word[_ngcontent-%COMP%]{font-size:1.5rem}@media screen and (max-width:500px){.savannah-options[_ngcontent-%COMP%]{flex-direction:column}.savannah-options_word[_ngcontent-%COMP%]{margin-bottom:3vh;padding:0}}@media screen and (max-width:769px){.savannah-options[_ngcontent-%COMP%]{flex-wrap:wrap}.savannah-options_word[_ngcontent-%COMP%]{flex:50%;height:60px}.savannah-options_word[_ngcontent-%COMP%]:first-child, .savannah-options_word[_ngcontent-%COMP%]:nth-child(3){padding-right:0}.savannah-options_word[_ngcontent-%COMP%]:nth-child(2), .savannah-options_word[_ngcontent-%COMP%]:nth-child(4){padding-left:0}}"],changeDetection:0}),t})(),ii=(()=>{class t{constructor(t){this.savannahService=t,this.answered=new l.n}wordClicked(t){this.isAnswerCorrect=t===this.translation,this.savannahService.playSound(this.isAnswerCorrect),this.wordComponent.animate(this.isAnswerCorrect)}wordGone(t){this.answered.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(ln))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-main-actions"]],viewQuery:function(t,e){if(1&t&&l.Jc(Jn,1),2&t){let t;l.pc(t=l.ac())&&(e.wordComponent=t.first)}},inputs:{word:"word",translation:"translation",answers:"answers",lifes:"lifes",progress:"progress"},outputs:{answered:"answered"},decls:6,vars:4,consts:[[1,"savannah-lifes",3,"lifes"],[1,"savannah-container"],[1,"savannah-container_flex"],[3,"word","wordGone"],["color","warn","diameter","70",1,"savannah-container_progress",3,"value"],[3,"options","clicked"]],template:function(t,e){1&t&&(l.Ob(0,"app-lifes",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"app-sliding-word",3),l.Zb("wordGone",function(t){return e.wordGone(t)}),l.Rb(),l.Rb(),l.Ob(4,"mat-progress-spinner",4),l.Rb(),l.Sb(5,"app-options-input",5),l.Zb("clicked",function(t){return e.wordClicked(t)}),l.Rb()),2&t&&(l.jc("lifes",e.lifes),l.Cb(3),l.jc("word",e.word),l.Cb(1),l.jc("value",e.progress),l.Cb(1),l.jc("options",e.answers))},directives:[ti,Jn,D.a,ni],styles:[".savannah-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;height:100%;left:0;right:0;top:0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}.savannah-container_flex[_ngcontent-%COMP%]{margin:3px 0;flex:1;position:relative}.savannah-container_progress[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0}),t})();var oi=n("EY2u"),ri=n("eIep"),si=n("lJxs"),ai=n("JIr8"),ci=n("vkgz"),li=n("//e4");let di=(()=>{class t{constructor(t,e,n,i){this.actions$=t,this.wordsHttpService=e,this.store=n,this.wordsHelper=i,this.loadWords$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(xt),Object(r.c)(()=>this.store.select(Zt)),Object(ri.a)(([{payload:t},e])=>this.wordsHttpService.getWords(t).pipe(Object(si.a)(t=>(t[0].paginatedResults&&(t=t[0].paginatedResults.map(t=>Object.assign(Object.assign({},t),{id:t._id}))),Pt({payload:this.wordsHelper.shuffleArray(Object.values(t))}))),Object(ai.a)(()=>oi.a))))),this.loadRandomTranslations$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(Pt),Object(ri.a)(()=>this.wordsHttpService.getRandomTranslations().pipe(Object(si.a)(t=>kt({payload:this.wordsHelper.getValuesArray(Object.values(t))})),Object(ai.a)(()=>oi.a))))),this.playSound$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(It,kt,Wt),Object(r.c)(()=>this.store.select(Kt)),Object(ci.a)(([,{isStarted:t,currentWord:e}])=>{t&&e&&(null==e?void 0:e.audio)&&new Audio(`${c.a}/${e.audio}?raw=true`).play()})),{dispatch:!1}),this.playGameSound$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(jt,Et),Object(r.c)(()=>this.store.select(Yt)),Object(ci.a)(([,t])=>{t&&t.isSoundOn&&t.audio&&new Audio(`${t.audio}`).play()})),{dispatch:!1}),this.checkAnswer$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(Rt),Object(r.c)(()=>this.store.select(Bt)),Object(si.a)(([t,e])=>t.payload===e.wordTranslate?jt():Et()))),this.checkGameOver$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(Gt),Object(r.c)(()=>this.store.select($t)),Object(si.a)(([,t])=>t.length<1?Ft():Wt()))),this.shuffleTranslations$=Object(r.d)(()=>this.actions$.pipe(Object(r.e)(kt,Wt),Object(r.c)(()=>this.store.select(Jt)),Object(si.a)(([,t])=>Mt({payload:this.wordsHelper.shuffleArray([...t])}))))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(r.a),l.Wb(j.a),l.Wb(o.h),l.Wb(li.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac}),t})();const ui={list:[],trainedWords:[],isGameStarted:!1,isGameEnded:!1,currentWord:{id:"",word:"",image:"",audio:"",audioMeaning:"",audioExample:"",textMeaning:"",textExample:"",transcription:"",wordTranslate:"",textMeaningTranslate:"",textExampleTranslate:"",translationsArray:[]},isTranslationChoosed:!1,translations:[],maxRightAnswers:0,previousMaxAnswers:0,isSoundOn:!0,audioSrc:"",isLoading:!1},gi=Object(o.p)(ui,Object(o.r)(xt,t=>Object.assign(Object.assign({},t),{isLoading:!0})),Object(o.r)(Pt,(t,{payload:e})=>{const n=e[0],i=e.filter((t,e)=>0!==e);return Object.assign(Object.assign({},t),{list:i,currentWord:Object.assign(Object.assign({},n),{translationsArray:[]}),audioSrc:""})}),Object(o.r)(kt,(t,{payload:e})=>{const n=e.slice(0,4),i=e.filter((t,e)=>e>3);return Object.assign(Object.assign({},t),{isLoading:!1,translations:i,currentWord:Object.assign(Object.assign({},t.currentWord),{translationsArray:[...n,t.currentWord.wordTranslate]})})}),Object(o.r)(yt,t=>Object.assign(Object.assign({},t),{isGameStarted:!0})),Object(o.r)(Dt,t=>Object.assign(Object.assign({},t),{isGameStarted:!1})),Object(o.r)(Tt,t=>Object.assign(Object.assign({},t),{isTranslationChoosed:!0})),Object(o.r)(jt,t=>Object.assign(Object.assign({},t),{trainedWords:[...t.trainedWords,{id:t.currentWord.id,word:t.currentWord.word,translation:t.currentWord.wordTranslate,timeStamp:Date.now(),result:O.a.CORRECT,audio:t.currentWord.audio,userWord:t.currentWord.userWord}],audioSrc:"../../../assets/sounds/mini-games/success.mp3",maxRightAnswers:t.maxRightAnswers+1})),Object(o.r)(Et,t=>{let e=0;return e=t.maxRightAnswers>t.previousMaxAnswers?t.maxRightAnswers:t.previousMaxAnswers,Object.assign(Object.assign({},t),{trainedWords:[...t.trainedWords,{id:t.currentWord.id,word:t.currentWord.word,translation:t.currentWord.wordTranslate,timeStamp:Date.now(),result:O.a.WRONG,audio:t.currentWord.audio,userWord:t.currentWord.userWord}],audioSrc:"../../../assets/sounds/mini-games/fail.mp3",maxRightAnswers:0,previousMaxAnswers:e})}),Object(o.r)(Wt,t=>{const e=t.list[0],n=t.list.filter((t,e)=>0!==e),i=t.translations.slice(0,4),o=t.translations.filter((t,e)=>e>3);return Object.assign(Object.assign({},t),{list:n,currentWord:Object.assign(Object.assign({},e),{translationsArray:[...i,e.wordTranslate]}),translations:[...o],audio:"",isTranslationChoosed:!1})}),Object(o.r)(Mt,(t,{payload:e})=>Object.assign(Object.assign({},t),{currentWord:Object.assign(Object.assign({},t.currentWord),{translationsArray:e})})),Object(o.r)(Ft,t=>Object.assign(Object.assign({},t),{isGameEnded:!0})),Object(o.r)(At,t=>Object.assign(Object.assign({},t),{isSoundOn:!0})),Object(o.r)(Lt,t=>Object.assign(Object.assign({},t),{isSoundOn:!1})),Object(o.r)(Nt,t=>Object.assign({},ui)));function mi(t,e){return gi(t,e)}let bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({imports:[[i.c,Un,s.a,Vn.a,o.j.forFeature("audiochallenge",mi),r.b.forFeature([di])]]}),t})();l.xc(_n,[i.o,u.b,i.n,d.a,i.m,i.p,ee.a,H,F,ii,gt,G],[])}}]);